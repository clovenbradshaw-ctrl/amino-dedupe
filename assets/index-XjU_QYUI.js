(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var au={exports:{}},Hs={},uu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),Ld=Symbol.for("react.portal"),Od=Symbol.for("react.fragment"),zd=Symbol.for("react.strict_mode"),$d=Symbol.for("react.profiler"),Bd=Symbol.for("react.provider"),Ud=Symbol.for("react.context"),Vd=Symbol.for("react.forward_ref"),bd=Symbol.for("react.suspense"),Hd=Symbol.for("react.memo"),Kd=Symbol.for("react.lazy"),Lo=Symbol.iterator;function Wd(e){return e===null||typeof e!="object"?null:(e=Lo&&e[Lo]||e["@@iterator"],typeof e=="function"?e:null)}var cu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},du=Object.assign,fu={};function $n(e,t,n){this.props=e,this.context=t,this.refs=fu,this.updater=n||cu}$n.prototype.isReactComponent={};$n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hu(){}hu.prototype=$n.prototype;function zi(e,t,n){this.props=e,this.context=t,this.refs=fu,this.updater=n||cu}var $i=zi.prototype=new hu;$i.constructor=zi;du($i,$n.prototype);$i.isPureReactComponent=!0;var Oo=Array.isArray,pu=Object.prototype.hasOwnProperty,Bi={current:null},mu={key:!0,ref:!0,__self:!0,__source:!0};function gu(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)pu.call(t,r)&&!mu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dr,type:e,key:l,ref:o,props:s,_owner:Bi.current}}function Qd(e,t){return{$$typeof:Dr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ui(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function Gd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zo=/\/+/g;function ol(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gd(""+e.key):t.toString(36)}function rs(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Dr:case Ld:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ol(o,0):r,Oo(s)?(n="",e!=null&&(n=e.replace(zo,"$&/")+"/"),rs(s,t,n,"",function(c){return c})):s!=null&&(Ui(s)&&(s=Qd(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(zo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Oo(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+ol(l,a);o+=rs(l,t,n,u,s)}else if(u=Wd(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+ol(l,a++),o+=rs(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function zr(e,t,n){if(e==null)return e;var r=[],s=0;return rs(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Xd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Re={current:null},ss={transition:null},Yd={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:ss,ReactCurrentOwner:Bi};function yu(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:zr,forEach:function(e,t,n){zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return zr(e,function(){t++}),t},toArray:function(e){return zr(e,function(t){return t})||[]},only:function(e){if(!Ui(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=$n;Q.Fragment=Od;Q.Profiler=$d;Q.PureComponent=zi;Q.StrictMode=zd;Q.Suspense=bd;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yd;Q.act=yu;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=du({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Bi.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)pu.call(t,u)&&!mu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Dr,type:e.type,key:s,ref:l,props:r,_owner:o}};Q.createContext=function(e){return e={$$typeof:Ud,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Bd,_context:e},e.Consumer=e};Q.createElement=gu;Q.createFactory=function(e){var t=gu.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Vd,render:e}};Q.isValidElement=Ui;Q.lazy=function(e){return{$$typeof:Kd,_payload:{_status:-1,_result:e},_init:Xd}};Q.memo=function(e,t){return{$$typeof:Hd,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=ss.transition;ss.transition={};try{e()}finally{ss.transition=t}};Q.unstable_act=yu;Q.useCallback=function(e,t){return Re.current.useCallback(e,t)};Q.useContext=function(e){return Re.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Re.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Re.current.useEffect(e,t)};Q.useId=function(){return Re.current.useId()};Q.useImperativeHandle=function(e,t,n){return Re.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Re.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Re.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Re.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Re.current.useReducer(e,t,n)};Q.useRef=function(e){return Re.current.useRef(e)};Q.useState=function(e){return Re.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Re.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Re.current.useTransition()};Q.version="18.3.1";uu.exports=Q;var C=uu.exports;const Jd=Id(C);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zd=C,qd=Symbol.for("react.element"),ef=Symbol.for("react.fragment"),tf=Object.prototype.hasOwnProperty,nf=Zd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rf={key:!0,ref:!0,__self:!0,__source:!0};function vu(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)tf.call(t,r)&&!rf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:qd,type:e,key:l,ref:o,props:s,_owner:nf.current}}Hs.Fragment=ef;Hs.jsx=vu;Hs.jsxs=vu;au.exports=Hs;var i=au.exports,$l={},xu={exports:{}},We={},ju={exports:{}},ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,$){var D=M.length;M.push($);e:for(;0<D;){var G=D-1>>>1,L=M[G];if(0<s(L,$))M[G]=$,M[D]=L,D=G;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var $=M[0],D=M.pop();if(D!==$){M[0]=D;e:for(var G=0,L=M.length,U=L>>>1;G<U;){var V=2*(G+1)-1,ee=M[V],W=V+1,se=M[W];if(0>s(ee,D))W<L&&0>s(se,ee)?(M[G]=se,M[W]=D,G=W):(M[G]=ee,M[V]=D,G=V);else if(W<L&&0>s(se,D))M[G]=se,M[W]=D,G=W;else break e}}return $}function s(M,$){var D=M.sortIndex-$.sortIndex;return D!==0?D:M.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],f=1,h=null,d=3,m=!1,v=!1,k=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=M)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function x(M){if(k=!1,y(M),!v)if(n(u)!==null)v=!0,Y(w);else{var $=n(c);$!==null&&ve(x,$.startTime-M)}}function w(M,$){v=!1,k&&(k=!1,g(S),S=-1),m=!0;var D=d;try{for(y($),h=n(u);h!==null&&(!(h.expirationTime>$)||M&&!H());){var G=h.callback;if(typeof G=="function"){h.callback=null,d=h.priorityLevel;var L=G(h.expirationTime<=$);$=e.unstable_now(),typeof L=="function"?h.callback=L:h===n(u)&&r(u),y($)}else r(u);h=n(u)}if(h!==null)var U=!0;else{var V=n(c);V!==null&&ve(x,V.startTime-$),U=!1}return U}finally{h=null,d=D,m=!1}}var E=!1,N=null,S=-1,F=5,P=-1;function H(){return!(e.unstable_now()-P<F)}function b(){if(N!==null){var M=e.unstable_now();P=M;var $=!0;try{$=N(!0,M)}finally{$?q():(E=!1,N=null)}}else E=!1}var q;if(typeof p=="function")q=function(){p(b)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,ne=T.port2;T.port1.onmessage=b,q=function(){ne.postMessage(null)}}else q=function(){j(b,0)};function Y(M){N=M,E||(E=!0,q())}function ve(M,$){S=j(function(){M(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,Y(w))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(M){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var D=d;d=$;try{return M()}finally{d=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,$){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var D=d;d=M;try{return $()}finally{d=D}},e.unstable_scheduleCallback=function(M,$,D){var G=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,M){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,M={id:f++,callback:$,priorityLevel:M,startTime:D,expirationTime:L,sortIndex:-1},D>G?(M.sortIndex=D,t(c,M),n(u)===null&&M===n(c)&&(k?(g(S),S=-1):k=!0,ve(x,D-G))):(M.sortIndex=L,t(u,M),v||m||(v=!0,Y(w))),M},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(M){var $=d;return function(){var D=d;d=$;try{return M.apply(this,arguments)}finally{d=D}}}})(ku);ju.exports=ku;var sf=ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=C,Ke=sf;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nu=new Set,pr={};function an(e,t){Rn(e,t),Rn(e+"Capture",t)}function Rn(e,t){for(pr[e]=t,e=0;e<t.length;e++)Nu.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,of=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$o={},Bo={};function af(e){return Bl.call(Bo,e)?!0:Bl.call($o,e)?!1:of.test(e)?Bo[e]=!0:($o[e]=!0,!1)}function uf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function cf(e,t,n,r){if(t===null||typeof t>"u"||uf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){we[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];we[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){we[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){we[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){we[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){we[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){we[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){we[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){we[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vi=/[\-:]([a-z])/g;function bi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vi,bi);we[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vi,bi);we[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vi,bi);we[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});we.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){we[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hi(e,t,n,r){var s=we.hasOwnProperty(t)?we[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(cf(t,n,s,r)&&(n=null),r||s===null?af(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ct=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$r=Symbol.for("react.element"),fn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Ki=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),Su=Symbol.for("react.provider"),wu=Symbol.for("react.context"),Wi=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),bl=Symbol.for("react.suspense_list"),Qi=Symbol.for("react.memo"),_t=Symbol.for("react.lazy"),Cu=Symbol.for("react.offscreen"),Uo=Symbol.iterator;function bn(e){return e===null||typeof e!="object"?null:(e=Uo&&e[Uo]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,al;function qn(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||""}return`
`+al+e}var ul=!1;function cl(e,t){if(!e||ul)return"";ul=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,a=l.length-1;1<=o&&0<=a&&s[o]!==l[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==l[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==l[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ul=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?qn(e):""}function df(e){switch(e.tag){case 5:return qn(e.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function Hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case fn:return"Portal";case Ul:return"Profiler";case Ki:return"StrictMode";case Vl:return"Suspense";case bl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wu:return(e.displayName||"Context")+".Consumer";case Su:return(e._context.displayName||"Context")+".Provider";case Wi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qi:return t=e.displayName||null,t!==null?t:Hl(e.type)||"Memo";case _t:t=e._payload,e=e._init;try{return Hl(e(t))}catch{}}return null}function ff(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hl(t);case 8:return t===Ki?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hf(e){var t=Eu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Br(e){e._valueTracker||(e._valueTracker=hf(e))}function _u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Eu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kl(e,t){var n=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Vo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fu(e,t){t=t.checked,t!=null&&Hi(e,"checked",t,!1)}function Wl(e,t){Fu(e,t);var n=Ut(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ql(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ql(e,t,n){(t!=="number"||gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var er=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Gl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ho(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_(92));if(er(n)){if(1<n.length)throw Error(_(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function Mu(e,t){var n=Ut(t.value),r=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ko(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Au(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Au(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ur,Tu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ur.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var lr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pf=["Webkit","ms","Moz","O"];Object.keys(lr).forEach(function(e){pf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lr[t]=lr[e]})});function Ru(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||lr.hasOwnProperty(e)&&lr[e]?(""+t).trim():t+"px"}function Du(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Ru(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mf=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yl(e,t){if(t){if(mf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Jl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=null;function Gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,Cn=null,En=null;function Wo(e){if(e=Lr(e)){if(typeof ql!="function")throw Error(_(280));var t=e.stateNode;t&&(t=Xs(t),ql(e.stateNode,e.type,t))}}function Pu(e){Cn?En?En.push(e):En=[e]:Cn=e}function Iu(){if(Cn){var e=Cn,t=En;if(En=Cn=null,Wo(e),t)for(e=0;e<t.length;e++)Wo(t[e])}}function Lu(e,t){return e(t)}function Ou(){}var dl=!1;function zu(e,t,n){if(dl)return e(t,n);dl=!0;try{return Lu(e,t,n)}finally{dl=!1,(Cn!==null||En!==null)&&(Ou(),Iu())}}function gr(e,t){var n=e.stateNode;if(n===null)return null;var r=Xs(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_(231,t,typeof n));return n}var ei=!1;if(jt)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){ei=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{ei=!1}function gf(e,t,n,r,s,l,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var ir=!1,ys=null,vs=!1,ti=null,yf={onError:function(e){ir=!0,ys=e}};function vf(e,t,n,r,s,l,o,a,u){ir=!1,ys=null,gf.apply(yf,arguments)}function xf(e,t,n,r,s,l,o,a,u){if(vf.apply(this,arguments),ir){if(ir){var c=ys;ir=!1,ys=null}else throw Error(_(198));vs||(vs=!0,ti=c)}}function un(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $u(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qo(e){if(un(e)!==e)throw Error(_(188))}function jf(e){var t=e.alternate;if(!t){if(t=un(e),t===null)throw Error(_(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return Qo(s),e;if(l===r)return Qo(s),t;l=l.sibling}throw Error(_(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o){for(a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?e:t}function Bu(e){return e=jf(e),e!==null?Uu(e):null}function Uu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Uu(e);if(t!==null)return t;e=e.sibling}return null}var Vu=Ke.unstable_scheduleCallback,Go=Ke.unstable_cancelCallback,kf=Ke.unstable_shouldYield,Nf=Ke.unstable_requestPaint,pe=Ke.unstable_now,Sf=Ke.unstable_getCurrentPriorityLevel,Xi=Ke.unstable_ImmediatePriority,bu=Ke.unstable_UserBlockingPriority,xs=Ke.unstable_NormalPriority,wf=Ke.unstable_LowPriority,Hu=Ke.unstable_IdlePriority,Ks=null,ht=null;function Cf(e){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Ks,e,void 0,(e.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Ff,Ef=Math.log,_f=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-(Ef(e)/_f|0)|0}var Vr=64,br=4194304;function tr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function js(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=tr(a):(l&=o,l!==0&&(r=tr(l)))}else o=n&~s,o!==0?r=tr(o):l!==0&&(r=tr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-it(t),s=1<<n,r|=e[n],t&=~s;return r}function Mf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-it(l),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Mf(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function ni(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ku(){var e=Vr;return Vr<<=1,!(Vr&4194240)&&(Vr=64),e}function fl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-it(t),e[t]=n}function Tf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function Yi(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Z=0;function Wu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qu,Ji,Gu,Xu,Yu,ri=!1,Hr=[],Dt=null,Pt=null,It=null,yr=new Map,vr=new Map,Mt=[],Rf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xo(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":yr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vr.delete(t.pointerId)}}function Kn(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Lr(t),t!==null&&Ji(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Df(e,t,n,r,s){switch(t){case"focusin":return Dt=Kn(Dt,e,t,n,r,s),!0;case"dragenter":return Pt=Kn(Pt,e,t,n,r,s),!0;case"mouseover":return It=Kn(It,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return yr.set(l,Kn(yr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,vr.set(l,Kn(vr.get(l)||null,e,t,n,r,s)),!0}return!1}function Ju(e){var t=Jt(e.target);if(t!==null){var n=un(t);if(n!==null){if(t=n.tag,t===13){if(t=$u(n),t!==null){e.blockedOn=t,Yu(e.priority,function(){Gu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=si(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Zl=r,n.target.dispatchEvent(r),Zl=null}else return t=Lr(n),t!==null&&Ji(t),e.blockedOn=n,!1;t.shift()}return!0}function Yo(e,t,n){ls(e)&&n.delete(t)}function Pf(){ri=!1,Dt!==null&&ls(Dt)&&(Dt=null),Pt!==null&&ls(Pt)&&(Pt=null),It!==null&&ls(It)&&(It=null),yr.forEach(Yo),vr.forEach(Yo)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,ri||(ri=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,Pf)))}function xr(e){function t(s){return Wn(s,e)}if(0<Hr.length){Wn(Hr[0],e);for(var n=1;n<Hr.length;n++){var r=Hr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Dt!==null&&Wn(Dt,e),Pt!==null&&Wn(Pt,e),It!==null&&Wn(It,e),yr.forEach(t),vr.forEach(t),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)Ju(n),n.blockedOn===null&&Mt.shift()}var _n=Ct.ReactCurrentBatchConfig,ks=!0;function If(e,t,n,r){var s=Z,l=_n.transition;_n.transition=null;try{Z=1,Zi(e,t,n,r)}finally{Z=s,_n.transition=l}}function Lf(e,t,n,r){var s=Z,l=_n.transition;_n.transition=null;try{Z=4,Zi(e,t,n,r)}finally{Z=s,_n.transition=l}}function Zi(e,t,n,r){if(ks){var s=si(e,t,n,r);if(s===null)Nl(e,t,r,Ns,n),Xo(e,r);else if(Df(s,e,t,n,r))r.stopPropagation();else if(Xo(e,r),t&4&&-1<Rf.indexOf(e)){for(;s!==null;){var l=Lr(s);if(l!==null&&Qu(l),l=si(e,t,n,r),l===null&&Nl(e,t,r,Ns,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Nl(e,t,r,null,n)}}var Ns=null;function si(e,t,n,r){if(Ns=null,e=Gi(r),e=Jt(e),e!==null)if(t=un(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$u(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function Zu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Xi:return 1;case bu:return 4;case xs:case wf:return 16;case Hu:return 536870912;default:return 16}default:return 16}}var Tt=null,qi=null,is=null;function qu(){if(is)return is;var e,t=qi,n=t.length,r,s="value"in Tt?Tt.value:Tt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return is=s.slice(e,1<r?1-r:void 0)}function os(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kr(){return!0}function Jo(){return!1}function Qe(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Kr:Jo,this.isPropagationStopped=Jo,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=Qe(Bn),Ir=ce({},Bn,{view:0,detail:0}),Of=Qe(Ir),hl,pl,Qn,Ws=ce({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(hl=e.screenX-Qn.screenX,pl=e.screenY-Qn.screenY):pl=hl=0,Qn=e),hl)},movementY:function(e){return"movementY"in e?e.movementY:pl}}),Zo=Qe(Ws),zf=ce({},Ws,{dataTransfer:0}),$f=Qe(zf),Bf=ce({},Ir,{relatedTarget:0}),ml=Qe(Bf),Uf=ce({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vf=Qe(Uf),bf=ce({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hf=Qe(bf),Kf=ce({},Bn,{data:0}),qo=Qe(Kf),Wf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gf[e])?!!t[e]:!1}function to(){return Xf}var Yf=ce({},Ir,{key:function(e){if(e.key){var t=Wf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=os(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(e){return e.type==="keypress"?os(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?os(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jf=Qe(Yf),Zf=ce({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ea=Qe(Zf),qf=ce({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),eh=Qe(qf),th=ce({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=Qe(th),rh=ce({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=Qe(rh),lh=[9,13,27,32],no=jt&&"CompositionEvent"in window,or=null;jt&&"documentMode"in document&&(or=document.documentMode);var ih=jt&&"TextEvent"in window&&!or,ec=jt&&(!no||or&&8<or&&11>=or),ta=" ",na=!1;function tc(e,t){switch(e){case"keyup":return lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pn=!1;function oh(e,t){switch(e){case"compositionend":return nc(t);case"keypress":return t.which!==32?null:(na=!0,ta);case"textInput":return e=t.data,e===ta&&na?null:e;default:return null}}function ah(e,t){if(pn)return e==="compositionend"||!no&&tc(e,t)?(e=qu(),is=qi=Tt=null,pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ec&&t.locale!=="ko"?null:t.data;default:return null}}var uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uh[e.type]:t==="textarea"}function rc(e,t,n,r){Pu(r),t=Ss(t,"onChange"),0<t.length&&(n=new eo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ar=null,jr=null;function ch(e){pc(e,0)}function Qs(e){var t=yn(e);if(_u(t))return e}function dh(e,t){if(e==="change")return t}var sc=!1;if(jt){var gl;if(jt){var yl="oninput"in document;if(!yl){var sa=document.createElement("div");sa.setAttribute("oninput","return;"),yl=typeof sa.oninput=="function"}gl=yl}else gl=!1;sc=gl&&(!document.documentMode||9<document.documentMode)}function la(){ar&&(ar.detachEvent("onpropertychange",lc),jr=ar=null)}function lc(e){if(e.propertyName==="value"&&Qs(jr)){var t=[];rc(t,jr,e,Gi(e)),zu(ch,t)}}function fh(e,t,n){e==="focusin"?(la(),ar=t,jr=n,ar.attachEvent("onpropertychange",lc)):e==="focusout"&&la()}function hh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(jr)}function ph(e,t){if(e==="click")return Qs(t)}function mh(e,t){if(e==="input"||e==="change")return Qs(t)}function gh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:gh;function kr(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Bl.call(t,s)||!at(e[s],t[s]))return!1}return!0}function ia(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oa(e,t){var n=ia(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ia(n)}}function ic(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ic(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function oc(){for(var e=window,t=gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=gs(e.document)}return t}function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yh(e){var t=oc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ic(n.ownerDocument.documentElement,n)){if(r!==null&&ro(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=oa(n,l);var o=oa(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vh=jt&&"documentMode"in document&&11>=document.documentMode,mn=null,li=null,ur=null,ii=!1;function aa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ii||mn==null||mn!==gs(r)||(r=mn,"selectionStart"in r&&ro(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ur&&kr(ur,r)||(ur=r,r=Ss(li,"onSelect"),0<r.length&&(t=new eo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mn)))}function Wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gn={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},vl={},ac={};jt&&(ac=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function Gs(e){if(vl[e])return vl[e];if(!gn[e])return e;var t=gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ac)return vl[e]=t[n];return e}var uc=Gs("animationend"),cc=Gs("animationiteration"),dc=Gs("animationstart"),fc=Gs("transitionend"),hc=new Map,ua="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bt(e,t){hc.set(e,t),an(t,[e])}for(var xl=0;xl<ua.length;xl++){var jl=ua[xl],xh=jl.toLowerCase(),jh=jl[0].toUpperCase()+jl.slice(1);bt(xh,"on"+jh)}bt(uc,"onAnimationEnd");bt(cc,"onAnimationIteration");bt(dc,"onAnimationStart");bt("dblclick","onDoubleClick");bt("focusin","onFocus");bt("focusout","onBlur");bt(fc,"onTransitionEnd");Rn("onMouseEnter",["mouseout","mouseover"]);Rn("onMouseLeave",["mouseout","mouseover"]);Rn("onPointerEnter",["pointerout","pointerover"]);Rn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function ca(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,xf(r,t,void 0,e),e.currentTarget=null}function pc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==l&&s.isPropagationStopped())break e;ca(s,a,c),l=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==l&&s.isPropagationStopped())break e;ca(s,a,c),l=u}}}if(vs)throw e=ti,vs=!1,ti=null,e}function le(e,t){var n=t[di];n===void 0&&(n=t[di]=new Set);var r=e+"__bubble";n.has(r)||(mc(t,e,2,!1),n.add(r))}function kl(e,t,n){var r=0;t&&(r|=4),mc(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function Nr(e){if(!e[Qr]){e[Qr]=!0,Nu.forEach(function(n){n!=="selectionchange"&&(kh.has(n)||kl(n,!1,e),kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Qr]||(t[Qr]=!0,kl("selectionchange",!1,t))}}function mc(e,t,n,r){switch(Zu(t)){case 1:var s=If;break;case 4:s=Lf;break;default:s=Zi}n=s.bind(null,t,n,e),s=void 0,!ei||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Nl(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Jt(a),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}a=a.parentNode}}r=r.return}zu(function(){var c=l,f=Gi(n),h=[];e:{var d=hc.get(e);if(d!==void 0){var m=eo,v=e;switch(e){case"keypress":if(os(n)===0)break e;case"keydown":case"keyup":m=Jf;break;case"focusin":v="focus",m=ml;break;case"focusout":v="blur",m=ml;break;case"beforeblur":case"afterblur":m=ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$f;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=eh;break;case uc:case cc:case dc:m=Vf;break;case fc:m=nh;break;case"scroll":m=Of;break;case"wheel":m=sh;break;case"copy":case"cut":case"paste":m=Hf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ea}var k=(t&4)!==0,j=!k&&e==="scroll",g=k?d!==null?d+"Capture":null:d;k=[];for(var p=c,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,g!==null&&(x=gr(p,g),x!=null&&k.push(Sr(p,x,y)))),j)break;p=p.return}0<k.length&&(d=new m(d,v,null,n,f),h.push({event:d,listeners:k}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Zl&&(v=n.relatedTarget||n.fromElement)&&(Jt(v)||v[kt]))break e;if((m||d)&&(d=f.window===f?f:(d=f.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Jt(v):null,v!==null&&(j=un(v),v!==j||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(k=Zo,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=ea,x="onPointerLeave",g="onPointerEnter",p="pointer"),j=m==null?d:yn(m),y=v==null?d:yn(v),d=new k(x,p+"leave",m,n,f),d.target=j,d.relatedTarget=y,x=null,Jt(f)===c&&(k=new k(g,p+"enter",v,n,f),k.target=y,k.relatedTarget=j,x=k),j=x,m&&v)t:{for(k=m,g=v,p=0,y=k;y;y=cn(y))p++;for(y=0,x=g;x;x=cn(x))y++;for(;0<p-y;)k=cn(k),p--;for(;0<y-p;)g=cn(g),y--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=cn(k),g=cn(g)}k=null}else k=null;m!==null&&da(h,d,m,k,!1),v!==null&&j!==null&&da(h,j,v,k,!0)}}e:{if(d=c?yn(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var w=dh;else if(ra(d))if(sc)w=mh;else{w=hh;var E=fh}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=ph);if(w&&(w=w(e,c))){rc(h,w,n,f);break e}E&&E(e,d,c),e==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&Ql(d,"number",d.value)}switch(E=c?yn(c):window,e){case"focusin":(ra(E)||E.contentEditable==="true")&&(mn=E,li=c,ur=null);break;case"focusout":ur=li=mn=null;break;case"mousedown":ii=!0;break;case"contextmenu":case"mouseup":case"dragend":ii=!1,aa(h,n,f);break;case"selectionchange":if(vh)break;case"keydown":case"keyup":aa(h,n,f)}var N;if(no)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else pn?tc(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ec&&n.locale!=="ko"&&(pn||S!=="onCompositionStart"?S==="onCompositionEnd"&&pn&&(N=qu()):(Tt=f,qi="value"in Tt?Tt.value:Tt.textContent,pn=!0)),E=Ss(c,S),0<E.length&&(S=new qo(S,e,null,n,f),h.push({event:S,listeners:E}),N?S.data=N:(N=nc(n),N!==null&&(S.data=N)))),(N=ih?oh(e,n):ah(e,n))&&(c=Ss(c,"onBeforeInput"),0<c.length&&(f=new qo("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=N))}pc(h,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ss(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=gr(e,n),l!=null&&r.unshift(Sr(e,l,s)),l=gr(e,t),l!=null&&r.push(Sr(e,l,s))),e=e.return}return r}function cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function da(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=gr(n,l),u!=null&&o.unshift(Sr(n,u,a))):s||(u=gr(n,l),u!=null&&o.push(Sr(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Nh=/\r\n?/g,Sh=/\u0000|\uFFFD/g;function fa(e){return(typeof e=="string"?e:""+e).replace(Nh,`
`).replace(Sh,"")}function Gr(e,t,n){if(t=fa(t),fa(e)!==t&&n)throw Error(_(425))}function ws(){}var oi=null,ai=null;function ui(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ci=typeof setTimeout=="function"?setTimeout:void 0,wh=typeof clearTimeout=="function"?clearTimeout:void 0,ha=typeof Promise=="function"?Promise:void 0,Ch=typeof queueMicrotask=="function"?queueMicrotask:typeof ha<"u"?function(e){return ha.resolve(null).then(e).catch(Eh)}:ci;function Eh(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),xr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);xr(t)}function Lt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Un=Math.random().toString(36).slice(2),dt="__reactFiber$"+Un,wr="__reactProps$"+Un,kt="__reactContainer$"+Un,di="__reactEvents$"+Un,_h="__reactListeners$"+Un,Fh="__reactHandles$"+Un;function Jt(e){var t=e[dt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[kt]||n[dt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pa(e);e!==null;){if(n=e[dt])return n;e=pa(e)}return t}e=n,n=e.parentNode}return null}function Lr(e){return e=e[dt]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function Xs(e){return e[wr]||null}var fi=[],vn=-1;function Ht(e){return{current:e}}function ie(e){0>vn||(e.current=fi[vn],fi[vn]=null,vn--)}function re(e,t){vn++,fi[vn]=e.current,e.current=t}var Vt={},Fe=Ht(Vt),Oe=Ht(!1),nn=Vt;function Dn(e,t){var n=e.type.contextTypes;if(!n)return Vt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Cs(){ie(Oe),ie(Fe)}function ma(e,t,n){if(Fe.current!==Vt)throw Error(_(168));re(Fe,t),re(Oe,n)}function gc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(_(108,ff(e)||"Unknown",s));return ce({},n,r)}function Es(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vt,nn=Fe.current,re(Fe,e),re(Oe,Oe.current),!0}function ga(e,t,n){var r=e.stateNode;if(!r)throw Error(_(169));n?(e=gc(e,t,nn),r.__reactInternalMemoizedMergedChildContext=e,ie(Oe),ie(Fe),re(Fe,e)):ie(Oe),re(Oe,n)}var gt=null,Ys=!1,wl=!1;function yc(e){gt===null?gt=[e]:gt.push(e)}function Mh(e){Ys=!0,yc(e)}function Kt(){if(!wl&&gt!==null){wl=!0;var e=0,t=Z;try{var n=gt;for(Z=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gt=null,Ys=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),Vu(Xi,Kt),s}finally{Z=t,wl=!1}}return null}var xn=[],jn=0,_s=null,Fs=0,Xe=[],Ye=0,rn=null,yt=1,vt="";function Qt(e,t){xn[jn++]=Fs,xn[jn++]=_s,_s=e,Fs=t}function vc(e,t,n){Xe[Ye++]=yt,Xe[Ye++]=vt,Xe[Ye++]=rn,rn=e;var r=yt;e=vt;var s=32-it(r)-1;r&=~(1<<s),n+=1;var l=32-it(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,yt=1<<32-it(t)+s|n<<s|r,vt=l+e}else yt=1<<l|n<<s|r,vt=e}function so(e){e.return!==null&&(Qt(e,1),vc(e,1,0))}function lo(e){for(;e===_s;)_s=xn[--jn],xn[jn]=null,Fs=xn[--jn],xn[jn]=null;for(;e===rn;)rn=Xe[--Ye],Xe[Ye]=null,vt=Xe[--Ye],Xe[Ye]=null,yt=Xe[--Ye],Xe[Ye]=null}var He=null,be=null,oe=!1,lt=null;function xc(e,t){var n=Je(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ya(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,He=e,be=Lt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,He=e,be=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:yt,overflow:vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Je(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,He=e,be=null,!0):!1;default:return!1}}function hi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pi(e){if(oe){var t=be;if(t){var n=t;if(!ya(e,t)){if(hi(e))throw Error(_(418));t=Lt(n.nextSibling);var r=He;t&&ya(e,t)?xc(r,n):(e.flags=e.flags&-4097|2,oe=!1,He=e)}}else{if(hi(e))throw Error(_(418));e.flags=e.flags&-4097|2,oe=!1,He=e}}}function va(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;He=e}function Xr(e){if(e!==He)return!1;if(!oe)return va(e),oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ui(e.type,e.memoizedProps)),t&&(t=be)){if(hi(e))throw jc(),Error(_(418));for(;t;)xc(e,t),t=Lt(t.nextSibling)}if(va(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){be=Lt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}be=null}}else be=He?Lt(e.stateNode.nextSibling):null;return!0}function jc(){for(var e=be;e;)e=Lt(e.nextSibling)}function Pn(){be=He=null,oe=!1}function io(e){lt===null?lt=[e]:lt.push(e)}var Ah=Ct.ReactCurrentBatchConfig;function Gn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var a=s.refs;o===null?delete a[l]:a[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,e))}return e}function Yr(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){var t=e._init;return t(e._payload)}function kc(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Bt(g,p),g.index=0,g.sibling=null,g}function l(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,x){return p===null||p.tag!==6?(p=Tl(y,g.mode,x),p.return=g,p):(p=s(p,y),p.return=g,p)}function u(g,p,y,x){var w=y.type;return w===hn?f(g,p,y.props.children,x,y.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_t&&xa(w)===p.type)?(x=s(p,y.props),x.ref=Gn(g,p,y),x.return=g,x):(x=ps(y.type,y.key,y.props,null,g.mode,x),x.ref=Gn(g,p,y),x.return=g,x)}function c(g,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Rl(y,g.mode,x),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function f(g,p,y,x,w){return p===null||p.tag!==7?(p=tn(y,g.mode,x,w),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tl(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $r:return y=ps(p.type,p.key,p.props,null,g.mode,y),y.ref=Gn(g,null,p),y.return=g,y;case fn:return p=Rl(p,g.mode,y),p.return=g,p;case _t:var x=p._init;return h(g,x(p._payload),y)}if(er(p)||bn(p))return p=tn(p,g.mode,y,null),p.return=g,p;Yr(g,p)}return null}function d(g,p,y,x){var w=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(g,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case $r:return y.key===w?u(g,p,y,x):null;case fn:return y.key===w?c(g,p,y,x):null;case _t:return w=y._init,d(g,p,w(y._payload),x)}if(er(y)||bn(y))return w!==null?null:f(g,p,y,x,null);Yr(g,y)}return null}function m(g,p,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(y)||null,a(p,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case $r:return g=g.get(x.key===null?y:x.key)||null,u(p,g,x,w);case fn:return g=g.get(x.key===null?y:x.key)||null,c(p,g,x,w);case _t:var E=x._init;return m(g,p,y,E(x._payload),w)}if(er(x)||bn(x))return g=g.get(y)||null,f(p,g,x,w,null);Yr(p,x)}return null}function v(g,p,y,x){for(var w=null,E=null,N=p,S=p=0,F=null;N!==null&&S<y.length;S++){N.index>S?(F=N,N=null):F=N.sibling;var P=d(g,N,y[S],x);if(P===null){N===null&&(N=F);break}e&&N&&P.alternate===null&&t(g,N),p=l(P,p,S),E===null?w=P:E.sibling=P,E=P,N=F}if(S===y.length)return n(g,N),oe&&Qt(g,S),w;if(N===null){for(;S<y.length;S++)N=h(g,y[S],x),N!==null&&(p=l(N,p,S),E===null?w=N:E.sibling=N,E=N);return oe&&Qt(g,S),w}for(N=r(g,N);S<y.length;S++)F=m(N,g,S,y[S],x),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?S:F.key),p=l(F,p,S),E===null?w=F:E.sibling=F,E=F);return e&&N.forEach(function(H){return t(g,H)}),oe&&Qt(g,S),w}function k(g,p,y,x){var w=bn(y);if(typeof w!="function")throw Error(_(150));if(y=w.call(y),y==null)throw Error(_(151));for(var E=w=null,N=p,S=p=0,F=null,P=y.next();N!==null&&!P.done;S++,P=y.next()){N.index>S?(F=N,N=null):F=N.sibling;var H=d(g,N,P.value,x);if(H===null){N===null&&(N=F);break}e&&N&&H.alternate===null&&t(g,N),p=l(H,p,S),E===null?w=H:E.sibling=H,E=H,N=F}if(P.done)return n(g,N),oe&&Qt(g,S),w;if(N===null){for(;!P.done;S++,P=y.next())P=h(g,P.value,x),P!==null&&(p=l(P,p,S),E===null?w=P:E.sibling=P,E=P);return oe&&Qt(g,S),w}for(N=r(g,N);!P.done;S++,P=y.next())P=m(N,g,S,P.value,x),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),p=l(P,p,S),E===null?w=P:E.sibling=P,E=P);return e&&N.forEach(function(b){return t(g,b)}),oe&&Qt(g,S),w}function j(g,p,y,x){if(typeof y=="object"&&y!==null&&y.type===hn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case $r:e:{for(var w=y.key,E=p;E!==null;){if(E.key===w){if(w=y.type,w===hn){if(E.tag===7){n(g,E.sibling),p=s(E,y.props.children),p.return=g,g=p;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===_t&&xa(w)===E.type){n(g,E.sibling),p=s(E,y.props),p.ref=Gn(g,E,y),p.return=g,g=p;break e}n(g,E);break}else t(g,E);E=E.sibling}y.type===hn?(p=tn(y.props.children,g.mode,x,y.key),p.return=g,g=p):(x=ps(y.type,y.key,y.props,null,g.mode,x),x.ref=Gn(g,p,y),x.return=g,g=x)}return o(g);case fn:e:{for(E=y.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Rl(y,g.mode,x),p.return=g,g=p}return o(g);case _t:return E=y._init,j(g,p,E(y._payload),x)}if(er(y))return v(g,p,y,x);if(bn(y))return k(g,p,y,x);Yr(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=Tl(y,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return j}var In=kc(!0),Nc=kc(!1),Ms=Ht(null),As=null,kn=null,oo=null;function ao(){oo=kn=As=null}function uo(e){var t=Ms.current;ie(Ms),e._currentValue=t}function mi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Fn(e,t){As=e,oo=kn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(oo!==e)if(e={context:e,memoizedValue:t,next:null},kn===null){if(As===null)throw Error(_(308));kn=e,As.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var Zt=null;function co(e){Zt===null?Zt=[e]:Zt.push(e)}function Sc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,co(t)):(n.next=s.next,s.next=n),t.interleaved=n,Nt(e,r)}function Nt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ot(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Nt(e,n)}return s=r.interleaved,s===null?(t.next=t,co(r)):(t.next=s.next,s.next=t),r.interleaved=t,Nt(e,n)}function as(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yi(e,n)}}function ja(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ts(e,t,n,r){var s=e.updateQueue;Ft=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?l=c:o.next=c,o=u;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=u))}if(l!==null){var h=s.baseState;o=0,f=c=u=null,a=l;do{var d=a.lane,m=a.eventTime;if((r&d)===d){f!==null&&(f=f.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,k=a;switch(d=t,m=n,k.tag){case 1:if(v=k.payload,typeof v=="function"){h=v.call(m,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,d=typeof v=="function"?v.call(m,h,d):v,d==null)break e;h=ce({},h,d);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else m={eventTime:m,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=m,u=h):f=f.next=m,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(f===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);ln|=o,e.lanes=o,e.memoizedState=h}}function ka(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(_(191,s));s.call(r)}}}var Or={},pt=Ht(Or),Cr=Ht(Or),Er=Ht(Or);function qt(e){if(e===Or)throw Error(_(174));return e}function ho(e,t){switch(re(Er,t),re(Cr,e),re(pt,Or),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}ie(pt),re(pt,t)}function Ln(){ie(pt),ie(Cr),ie(Er)}function Cc(e){qt(Er.current);var t=qt(pt.current),n=Xl(t,e.type);t!==n&&(re(Cr,e),re(pt,n))}function po(e){Cr.current===e&&(ie(pt),ie(Cr))}var ae=Ht(0);function Rs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cl=[];function mo(){for(var e=0;e<Cl.length;e++)Cl[e]._workInProgressVersionPrimary=null;Cl.length=0}var us=Ct.ReactCurrentDispatcher,El=Ct.ReactCurrentBatchConfig,sn=0,ue=null,ge=null,xe=null,Ds=!1,cr=!1,_r=0,Th=0;function Ce(){throw Error(_(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,s,l){if(sn=l,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,us.current=e===null||e.memoizedState===null?Ih:Lh,e=n(r,s),cr){l=0;do{if(cr=!1,_r=0,25<=l)throw Error(_(301));l+=1,xe=ge=null,t.updateQueue=null,us.current=Oh,e=n(r,s)}while(cr)}if(us.current=Ps,t=ge!==null&&ge.next!==null,sn=0,xe=ge=ue=null,Ds=!1,t)throw Error(_(300));return e}function vo(){var e=_r!==0;return _r=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ue.memoizedState=xe=e:xe=xe.next=e,xe}function et(){if(ge===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=xe===null?ue.memoizedState:xe.next;if(t!==null)xe=t,ge=e;else{if(e===null)throw Error(_(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},xe===null?ue.memoizedState=xe=e:xe=xe.next=e}return xe}function Fr(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=ge,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=o=null,u=null,c=l;do{var f=c.lane;if((sn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,ue.lanes|=f,ln|=f}c=c.next}while(c!==null&&c!==l);u===null?o=r:u.next=a,at(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,ue.lanes|=l,ln|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fl(e){var t=et(),n=t.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);at(l,t.memoizedState)||(Le=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Ec(){}function _c(e,t){var n=ue,r=et(),s=t(),l=!at(r.memoizedState,s);if(l&&(r.memoizedState=s,Le=!0),r=r.queue,xo(Ac.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Mr(9,Mc.bind(null,n,r,s,t),void 0,null),je===null)throw Error(_(349));sn&30||Fc(n,t,s)}return s}function Fc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mc(e,t,n,r){t.value=n,t.getSnapshot=r,Tc(t)&&Rc(e)}function Ac(e,t,n){return n(function(){Tc(t)&&Rc(e)})}function Tc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function Rc(e){var t=Nt(e,1);t!==null&&ot(t,e,1,-1)}function Na(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=Ph.bind(null,ue,e),[t.memoizedState,e]}function Mr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dc(){return et().memoizedState}function cs(e,t,n,r){var s=ct();ue.flags|=e,s.memoizedState=Mr(1|t,n,void 0,r===void 0?null:r)}function Js(e,t,n,r){var s=et();r=r===void 0?null:r;var l=void 0;if(ge!==null){var o=ge.memoizedState;if(l=o.destroy,r!==null&&go(r,o.deps)){s.memoizedState=Mr(t,n,l,r);return}}ue.flags|=e,s.memoizedState=Mr(1|t,n,l,r)}function Sa(e,t){return cs(8390656,8,e,t)}function xo(e,t){return Js(2048,8,e,t)}function Pc(e,t){return Js(4,2,e,t)}function Ic(e,t){return Js(4,4,e,t)}function Lc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oc(e,t,n){return n=n!=null?n.concat([e]):null,Js(4,4,Lc.bind(null,t,e),n)}function jo(){}function zc(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $c(e,t){var n=et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Bc(e,t,n){return sn&21?(at(n,t)||(n=Ku(),ue.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=n)}function Rh(e,t){var n=Z;Z=n!==0&&4>n?n:4,e(!0);var r=El.transition;El.transition={};try{e(!1),t()}finally{Z=n,El.transition=r}}function Uc(){return et().memoizedState}function Dh(e,t,n){var r=$t(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vc(e))bc(t,n);else if(n=Sc(e,t,n,r),n!==null){var s=Te();ot(n,e,r,s),Hc(n,t,r)}}function Ph(e,t,n){var r=$t(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vc(e))bc(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,a=l(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var u=t.interleaved;u===null?(s.next=s,co(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Sc(e,t,s,r),n!==null&&(s=Te(),ot(n,e,r,s),Hc(n,t,r))}}function Vc(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function bc(e,t){cr=Ds=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Yi(e,n)}}var Ps={readContext:qe,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useInsertionEffect:Ce,useLayoutEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useMutableSource:Ce,useSyncExternalStore:Ce,useId:Ce,unstable_isNewReconciler:!1},Ih={readContext:qe,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cs(4194308,4,Lc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return cs(4,2,e,t)},useMemo:function(e,t){var n=ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dh.bind(null,ue,e),[r.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Na,useDebugValue:jo,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Rh.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ue,s=ct();if(oe){if(n===void 0)throw Error(_(407));n=n()}else{if(n=t(),je===null)throw Error(_(349));sn&30||Fc(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Sa(Ac.bind(null,r,l,e),[e]),r.flags|=2048,Mr(9,Mc.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=ct(),t=je.identifierPrefix;if(oe){var n=vt,r=yt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_r++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Th++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Lh={readContext:qe,useCallback:zc,useContext:qe,useEffect:xo,useImperativeHandle:Oc,useInsertionEffect:Pc,useLayoutEffect:Ic,useMemo:$c,useReducer:_l,useRef:Dc,useState:function(){return _l(Fr)},useDebugValue:jo,useDeferredValue:function(e){var t=et();return Bc(t,ge.memoizedState,e)},useTransition:function(){var e=_l(Fr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:_c,useId:Uc,unstable_isNewReconciler:!1},Oh={readContext:qe,useCallback:zc,useContext:qe,useEffect:xo,useImperativeHandle:Oc,useInsertionEffect:Pc,useLayoutEffect:Ic,useMemo:$c,useReducer:Fl,useRef:Dc,useState:function(){return Fl(Fr)},useDebugValue:jo,useDeferredValue:function(e){var t=et();return ge===null?t.memoizedState=e:Bc(t,ge.memoizedState,e)},useTransition:function(){var e=Fl(Fr)[0],t=et().memoizedState;return[e,t]},useMutableSource:Ec,useSyncExternalStore:_c,useId:Uc,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gi(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Zs={isMounted:function(e){return(e=e._reactInternals)?un(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),s=$t(e),l=xt(r,s);l.payload=t,n!=null&&(l.callback=n),t=Ot(e,l,s),t!==null&&(ot(t,e,s,r),as(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),s=$t(e),l=xt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ot(e,l,s),t!==null&&(ot(t,e,s,r),as(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=$t(e),s=xt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ot(e,s,r),t!==null&&(ot(t,e,r,n),as(t,e,r))}};function wa(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!kr(n,r)||!kr(s,l):!0}function Kc(e,t,n){var r=!1,s=Vt,l=t.contextType;return typeof l=="object"&&l!==null?l=qe(l):(s=ze(t)?nn:Fe.current,r=t.contextTypes,l=(r=r!=null)?Dn(e,s):Vt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Zs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ca(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Zs.enqueueReplaceState(t,t.state,null)}function yi(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},fo(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=qe(l):(l=ze(t)?nn:Fe.current,s.context=Dn(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(gi(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Zs.enqueueReplaceState(s,s.state,null),Ts(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function On(e,t){try{var n="",r=t;do n+=df(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ml(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vi(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function Wc(e,t,n){n=xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Fi=r),vi(e,t)},n}function Qc(e,t,n){n=xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){vi(e,t),typeof r!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ea(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new zh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Zh.bind(null,e,t,n),t.then(e,e))}function _a(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fa(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xt(-1,1),t.tag=2,Ot(n,t,1))),n.lanes|=1),e)}var $h=Ct.ReactCurrentOwner,Le=!1;function Ae(e,t,n,r){t.child=e===null?Nc(t,null,n,r):In(t,e.child,n,r)}function Ma(e,t,n,r,s){n=n.render;var l=t.ref;return Fn(t,s),r=yo(e,t,n,r,l,s),n=vo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(oe&&n&&so(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Aa(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Fo(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Gc(e,t,l,r,s)):(e=ps(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:kr,n(o,r)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=Bt(l,r),e.ref=t.ref,e.return=t,t.child=e}function Gc(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(kr(l,r)&&e.ref===t.ref)if(Le=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,St(e,t,s)}return xi(e,t,n,r,s)}function Xc(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(Sn,Be),Be|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(Sn,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,re(Sn,Be),Be|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,re(Sn,Be),Be|=r;return Ae(e,t,s,n),t.child}function Yc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,n,r,s){var l=ze(n)?nn:Fe.current;return l=Dn(t,l),Fn(t,s),n=yo(e,t,n,r,l,s),r=vo(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(oe&&r&&so(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Ta(e,t,n,r,s){if(ze(n)){var l=!0;Es(t)}else l=!1;if(Fn(t,s),t.stateNode===null)ds(e,t),Kc(t,n,r),yi(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=qe(c):(c=ze(n)?nn:Fe.current,c=Dn(t,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Ca(t,o,r,c),Ft=!1;var d=t.memoizedState;o.state=d,Ts(t,r,o,s),u=t.memoizedState,a!==r||d!==u||Oe.current||Ft?(typeof f=="function"&&(gi(t,n,f,r),u=t.memoizedState),(a=Ft||wa(t,n,a,r,d,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wc(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:rt(t.type,a),o.props=c,h=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=qe(u):(u=ze(n)?nn:Fe.current,u=Dn(t,u));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==u)&&Ca(t,o,r,u),Ft=!1,d=t.memoizedState,o.state=d,Ts(t,r,o,s);var v=t.memoizedState;a!==h||d!==v||Oe.current||Ft?(typeof m=="function"&&(gi(t,n,m,r),v=t.memoizedState),(c=Ft||wa(t,n,c,r,d,v,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ji(e,t,n,r,l,s)}function ji(e,t,n,r,s,l){Yc(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&ga(t,n,!1),St(e,t,l);r=t.stateNode,$h.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=In(t,e.child,null,l),t.child=In(t,null,a,l)):Ae(e,t,a,l),t.memoizedState=r.state,s&&ga(t,n,!0),t.child}function Jc(e){var t=e.stateNode;t.pendingContext?ma(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ma(e,t.context,!1),ho(e,t.containerInfo)}function Ra(e,t,n,r,s){return Pn(),io(s),t.flags|=256,Ae(e,t,n,r),t.child}var ki={dehydrated:null,treeContext:null,retryLane:0};function Ni(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zc(e,t,n){var r=t.pendingProps,s=ae.current,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),re(ae,s&1),e===null)return pi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=tl(o,r,0,null),e=tn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ni(n),t.memoizedState=ki,e):ko(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bh(e,t,o,r,a,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Bt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=Bt(a,l):(l=tn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Ni(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=ki,r}return l=e.child,e=l.sibling,r=Bt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ko(e,t){return t=tl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jr(e,t,n,r){return r!==null&&io(r),In(t,e.child,null,n),e=ko(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bh(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ml(Error(_(422))),Jr(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=tl({mode:"visible",children:r.children},s,0,null),l=tn(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&In(t,e.child,null,o),t.child.memoizedState=Ni(o),t.memoizedState=ki,l);if(!(t.mode&1))return Jr(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(_(419)),r=Ml(l,r,void 0),Jr(e,t,o,r)}if(a=(o&e.childLanes)!==0,Le||a){if(r=je,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Nt(e,s),ot(r,e,s,-1))}return _o(),r=Ml(Error(_(421))),Jr(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=qh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,be=Lt(s.nextSibling),He=t,oe=!0,lt=null,e!==null&&(Xe[Ye++]=yt,Xe[Ye++]=vt,Xe[Ye++]=rn,yt=e.id,vt=e.overflow,rn=t),t=ko(t,r.children),t.flags|=4096,t)}function Da(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mi(e.return,t,n)}function Al(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function qc(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Ae(e,t,r.children,n),r=ae.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Da(e,n,t);else if(e.tag===19)Da(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(re(ae,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Rs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Al(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Rs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Al(t,!0,n,null,l);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ds(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,n=Bt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Uh(e,t,n){switch(t.tag){case 3:Jc(t),Pn();break;case 5:Cc(t);break;case 1:ze(t.type)&&Es(t);break;case 4:ho(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;re(Ms,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(re(ae,ae.current&1),t.flags|=128,null):n&t.child.childLanes?Zc(e,t,n):(re(ae,ae.current&1),e=St(e,t,n),e!==null?e.sibling:null);re(ae,ae.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return qc(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),re(ae,ae.current),r)break;return null;case 22:case 23:return t.lanes=0,Xc(e,t,n)}return St(e,t,n)}var ed,Si,td,nd;ed=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Si=function(){};td=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qt(pt.current);var l=null;switch(n){case"input":s=Kl(e,s),r=Kl(e,r),l=[];break;case"select":s=ce({},s,{value:void 0}),r=ce({},r,{value:void 0}),l=[];break;case"textarea":s=Gl(e,s),r=Gl(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ws)}Yl(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pr.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&le("scroll",e),l||a===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};nd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Xn(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vh(e,t,n){var r=t.pendingProps;switch(lo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return ze(t.type)&&Cs(),Ee(t),null;case 3:return r=t.stateNode,Ln(),ie(Oe),ie(Fe),mo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Xr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,lt!==null&&(Ti(lt),lt=null))),Si(e,t),Ee(t),null;case 5:po(t);var s=qt(Er.current);if(n=t.type,e!==null&&t.stateNode!=null)td(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(_(166));return Ee(t),null}if(e=qt(pt.current),Xr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[dt]=t,r[wr]=l,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<nr.length;s++)le(nr[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":Vo(r,l),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},le("invalid",r);break;case"textarea":Ho(r,l),le("invalid",r)}Yl(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&Gr(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&Gr(r.textContent,a,e),s=["children",""+a]):pr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":Br(r),bo(r,l,!0);break;case"textarea":Br(r),Ko(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=ws)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Au(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[dt]=t,e[wr]=r,ed(e,t,!1,!1),t.stateNode=e;e:{switch(o=Jl(n,r),n){case"dialog":le("cancel",e),le("close",e),s=r;break;case"iframe":case"object":case"embed":le("load",e),s=r;break;case"video":case"audio":for(s=0;s<nr.length;s++)le(nr[s],e);s=r;break;case"source":le("error",e),s=r;break;case"img":case"image":case"link":le("error",e),le("load",e),s=r;break;case"details":le("toggle",e),s=r;break;case"input":Vo(e,r),s=Kl(e,r),le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ce({},r,{value:void 0}),le("invalid",e);break;case"textarea":Ho(e,r),s=Gl(e,r),le("invalid",e);break;default:s=r}Yl(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?Du(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Tu(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&mr(e,u):typeof u=="number"&&mr(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(pr.hasOwnProperty(l)?u!=null&&l==="onScroll"&&le("scroll",e):u!=null&&Hi(e,l,u,o))}switch(n){case"input":Br(e),bo(e,r,!1);break;case"textarea":Br(e),Ko(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ut(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?wn(e,!!r.multiple,l,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ws)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)nd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(_(166));if(n=qt(Er.current),qt(pt.current),Xr(t)){if(r=t.stateNode,n=t.memoizedProps,r[dt]=t,(l=r.nodeValue!==n)&&(e=He,e!==null))switch(e.tag){case 3:Gr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dt]=t,t.stateNode=r}return Ee(t),null;case 13:if(ie(ae),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(oe&&be!==null&&t.mode&1&&!(t.flags&128))jc(),Pn(),t.flags|=98560,l=!1;else if(l=Xr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(_(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(_(317));l[dt]=t}else Pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),l=!1}else lt!==null&&(Ti(lt),lt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ae.current&1?ye===0&&(ye=3):_o())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Ln(),Si(e,t),e===null&&Nr(t.stateNode.containerInfo),Ee(t),null;case 10:return uo(t.type._context),Ee(t),null;case 17:return ze(t.type)&&Cs(),Ee(t),null;case 19:if(ie(ae),l=t.memoizedState,l===null)return Ee(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)Xn(l,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Rs(e),o!==null){for(t.flags|=128,Xn(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(ae,ae.current&1|2),t.child}e=e.sibling}l.tail!==null&&pe()>zn&&(t.flags|=128,r=!0,Xn(l,!1),t.lanes=4194304)}else{if(!r)if(e=Rs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Xn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!oe)return Ee(t),null}else 2*pe()-l.renderingStartTime>zn&&n!==1073741824&&(t.flags|=128,r=!0,Xn(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pe(),t.sibling=null,n=ae.current,re(ae,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return Eo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Be&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function bh(e,t){switch(lo(t),t.tag){case 1:return ze(t.type)&&Cs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(),ie(Oe),ie(Fe),mo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return po(t),null;case 13:if(ie(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ae),null;case 4:return Ln(),null;case 10:return uo(t.type._context),null;case 22:case 23:return Eo(),null;case 24:return null;default:return null}}var Zr=!1,_e=!1,Hh=typeof WeakSet=="function"?WeakSet:Set,I=null;function Nn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function wi(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Pa=!1;function Kh(e,t){if(oi=ks,e=oc(),ro(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==l||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)d=h,h=m;for(;;){if(h===e)break t;if(d===n&&++c===s&&(a=o),d===l&&++f===r&&(u=o),(m=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ai={focusedElem:e,selectionRange:n},ks=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,j=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:rt(t.type,k),j);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(x){fe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=Pa,Pa=!1,v}function dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&wi(t,n,l)}s=s.next}while(s!==r)}}function qs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ci(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function rd(e){var t=e.alternate;t!==null&&(e.alternate=null,rd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[wr],delete t[di],delete t[_h],delete t[Fh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sd(e){return e.tag===5||e.tag===3||e.tag===4}function Ia(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ei(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ws));else if(r!==4&&(e=e.child,e!==null))for(Ei(e,t,n),e=e.sibling;e!==null;)Ei(e,t,n),e=e.sibling}function _i(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_i(e,t,n),e=e.sibling;e!==null;)_i(e,t,n),e=e.sibling}var Ne=null,st=!1;function Et(e,t,n){for(n=n.child;n!==null;)ld(e,t,n),n=n.sibling}function ld(e,t,n){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Ks,n)}catch{}switch(n.tag){case 5:_e||Nn(n,t);case 6:var r=Ne,s=st;Ne=null,Et(e,t,n),Ne=r,st=s,Ne!==null&&(st?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(st?(e=Ne,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),xr(e)):Sl(Ne,n.stateNode));break;case 4:r=Ne,s=st,Ne=n.stateNode.containerInfo,st=!0,Et(e,t,n),Ne=r,st=s;break;case 0:case 11:case 14:case 15:if(!_e&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&wi(n,t,o),s=s.next}while(s!==r)}Et(e,t,n);break;case 1:if(!_e&&(Nn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,t,a)}Et(e,t,n);break;case 21:Et(e,t,n);break;case 22:n.mode&1?(_e=(r=_e)||n.memoizedState!==null,Et(e,t,n),_e=r):Et(e,t,n);break;default:Et(e,t,n)}}function La(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hh),t.forEach(function(r){var s=ep.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,st=!1;break e;case 3:Ne=a.stateNode.containerInfo,st=!0;break e;case 4:Ne=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(Ne===null)throw Error(_(160));ld(l,o,s),Ne=null,st=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){fe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)id(t,e),t=t.sibling}function id(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ut(e),r&4){try{dr(3,e,e.return),qs(3,e)}catch(k){fe(e,e.return,k)}try{dr(5,e,e.return)}catch(k){fe(e,e.return,k)}}break;case 1:nt(t,e),ut(e),r&512&&n!==null&&Nn(n,n.return);break;case 5:if(nt(t,e),ut(e),r&512&&n!==null&&Nn(n,n.return),e.flags&32){var s=e.stateNode;try{mr(s,"")}catch(k){fe(e,e.return,k)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Fu(s,l),Jl(a,o);var c=Jl(a,l);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?Du(s,h):f==="dangerouslySetInnerHTML"?Tu(s,h):f==="children"?mr(s,h):Hi(s,f,h,c)}switch(a){case"input":Wl(s,l);break;case"textarea":Mu(s,l);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?wn(s,!!l.multiple,m,!1):d!==!!l.multiple&&(l.defaultValue!=null?wn(s,!!l.multiple,l.defaultValue,!0):wn(s,!!l.multiple,l.multiple?[]:"",!1))}s[wr]=l}catch(k){fe(e,e.return,k)}}break;case 6:if(nt(t,e),ut(e),r&4){if(e.stateNode===null)throw Error(_(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(k){fe(e,e.return,k)}}break;case 3:if(nt(t,e),ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xr(t.containerInfo)}catch(k){fe(e,e.return,k)}break;case 4:nt(t,e),ut(e);break;case 13:nt(t,e),ut(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(wo=pe())),r&4&&La(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(_e=(c=_e)||f,nt(t,e),_e=c):nt(t,e),ut(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(I=e,f=e.child;f!==null;){for(h=I=f;I!==null;){switch(d=I,m=d.child,d.tag){case 0:case 11:case 14:case 15:dr(4,d,d.return);break;case 1:Nn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){fe(r,n,k)}}break;case 5:Nn(d,d.return);break;case 22:if(d.memoizedState!==null){za(h);continue}}m!==null?(m.return=d,I=m):za(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{s=h.stateNode,c?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Ru("display",o))}catch(k){fe(e,e.return,k)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){fe(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nt(t,e),ut(e),r&4&&La(e);break;case 21:break;default:nt(t,e),ut(e)}}function ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sd(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(mr(s,""),r.flags&=-33);var l=Ia(e);_i(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ia(e);Ei(e,a,o);break;default:throw Error(_(161))}}catch(u){fe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wh(e,t,n){I=e,od(e)}function od(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zr;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||_e;a=Zr;var c=_e;if(Zr=o,(_e=u)&&!c)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?$a(s):u!==null?(u.return=o,I=u):$a(s);for(;l!==null;)I=l,od(l),l=l.sibling;I=s,Zr=a,_e=c}Oa(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,I=l):Oa(e)}}function Oa(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_e||qs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_e)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ka(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ka(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&xr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}_e||t.flags&512&&Ci(t)}catch(d){fe(t,t.return,d)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function za(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function $a(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qs(4,t)}catch(u){fe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){fe(t,s,u)}}var l=t.return;try{Ci(t)}catch(u){fe(t,l,u)}break;case 5:var o=t.return;try{Ci(t)}catch(u){fe(t,o,u)}}}catch(u){fe(t,t.return,u)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var Qh=Math.ceil,Is=Ct.ReactCurrentDispatcher,No=Ct.ReactCurrentOwner,Ze=Ct.ReactCurrentBatchConfig,X=0,je=null,me=null,Se=0,Be=0,Sn=Ht(0),ye=0,Ar=null,ln=0,el=0,So=0,fr=null,Ie=null,wo=0,zn=1/0,mt=null,Ls=!1,Fi=null,zt=null,qr=!1,Rt=null,Os=0,hr=0,Mi=null,fs=-1,hs=0;function Te(){return X&6?pe():fs!==-1?fs:fs=pe()}function $t(e){return e.mode&1?X&2&&Se!==0?Se&-Se:Ah.transition!==null?(hs===0&&(hs=Ku()),hs):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Zu(e.type)),e):1}function ot(e,t,n,r){if(50<hr)throw hr=0,Mi=null,Error(_(185));Pr(e,n,r),(!(X&2)||e!==je)&&(e===je&&(!(X&2)&&(el|=n),ye===4&&At(e,Se)),$e(e,r),n===1&&X===0&&!(t.mode&1)&&(zn=pe()+500,Ys&&Kt()))}function $e(e,t){var n=e.callbackNode;Af(e,t);var r=js(e,e===je?Se:0);if(r===0)n!==null&&Go(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Go(n),t===1)e.tag===0?Mh(Ba.bind(null,e)):yc(Ba.bind(null,e)),Ch(function(){!(X&6)&&Kt()}),n=null;else{switch(Wu(r)){case 1:n=Xi;break;case 4:n=bu;break;case 16:n=xs;break;case 536870912:n=Hu;break;default:n=xs}n=md(n,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ad(e,t){if(fs=-1,hs=0,X&6)throw Error(_(327));var n=e.callbackNode;if(Mn()&&e.callbackNode!==n)return null;var r=js(e,e===je?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zs(e,r);else{t=r;var s=X;X|=2;var l=cd();(je!==e||Se!==t)&&(mt=null,zn=pe()+500,en(e,t));do try{Yh();break}catch(a){ud(e,a)}while(!0);ao(),Is.current=l,X=s,me!==null?t=0:(je=null,Se=0,t=ye)}if(t!==0){if(t===2&&(s=ni(e),s!==0&&(r=s,t=Ai(e,s))),t===1)throw n=Ar,en(e,0),At(e,r),$e(e,pe()),n;if(t===6)At(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gh(s)&&(t=zs(e,r),t===2&&(l=ni(e),l!==0&&(r=l,t=Ai(e,l))),t===1))throw n=Ar,en(e,0),At(e,r),$e(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(_(345));case 2:Gt(e,Ie,mt);break;case 3:if(At(e,r),(r&130023424)===r&&(t=wo+500-pe(),10<t)){if(js(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ci(Gt.bind(null,e,Ie,mt),t);break}Gt(e,Ie,mt);break;case 4:if(At(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qh(r/1960))-r,10<r){e.timeoutHandle=ci(Gt.bind(null,e,Ie,mt),r);break}Gt(e,Ie,mt);break;case 5:Gt(e,Ie,mt);break;default:throw Error(_(329))}}}return $e(e,pe()),e.callbackNode===n?ad.bind(null,e):null}function Ai(e,t){var n=fr;return e.current.memoizedState.isDehydrated&&(en(e,t).flags|=256),e=zs(e,t),e!==2&&(t=Ie,Ie=n,t!==null&&Ti(t)),e}function Ti(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function Gh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!at(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~So,t&=~el,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function Ba(e){if(X&6)throw Error(_(327));Mn();var t=js(e,0);if(!(t&1))return $e(e,pe()),null;var n=zs(e,t);if(e.tag!==0&&n===2){var r=ni(e);r!==0&&(t=r,n=Ai(e,r))}if(n===1)throw n=Ar,en(e,0),At(e,t),$e(e,pe()),n;if(n===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gt(e,Ie,mt),$e(e,pe()),null}function Co(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(zn=pe()+500,Ys&&Kt())}}function on(e){Rt!==null&&Rt.tag===0&&!(X&6)&&Mn();var t=X;X|=1;var n=Ze.transition,r=Z;try{if(Ze.transition=null,Z=1,e)return e()}finally{Z=r,Ze.transition=n,X=t,!(X&6)&&Kt()}}function Eo(){Be=Sn.current,ie(Sn)}function en(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wh(n)),me!==null)for(n=me.return;n!==null;){var r=n;switch(lo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cs();break;case 3:Ln(),ie(Oe),ie(Fe),mo();break;case 5:po(r);break;case 4:Ln();break;case 13:ie(ae);break;case 19:ie(ae);break;case 10:uo(r.type._context);break;case 22:case 23:Eo()}n=n.return}if(je=e,me=e=Bt(e.current,null),Se=Be=t,ye=0,Ar=null,So=el=ln=0,Ie=fr=null,Zt!==null){for(t=0;t<Zt.length;t++)if(n=Zt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}Zt=null}return e}function ud(e,t){do{var n=me;try{if(ao(),us.current=Ps,Ds){for(var r=ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ds=!1}if(sn=0,xe=ge=ue=null,cr=!1,_r=0,No.current=null,n===null||n.return===null){ye=1,Ar=t,me=null;break}e:{var l=e,o=n.return,a=n,u=t;if(t=Se,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=_a(o);if(m!==null){m.flags&=-257,Fa(m,o,a,l,t),m.mode&1&&Ea(l,c,t),t=m,u=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(u),t.updateQueue=k}else v.add(u);break e}else{if(!(t&1)){Ea(l,c,t),_o();break e}u=Error(_(426))}}else if(oe&&a.mode&1){var j=_a(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Fa(j,o,a,l,t),io(On(u,a));break e}}l=u=On(u,a),ye!==4&&(ye=2),fr===null?fr=[l]:fr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=Wc(l,u,t);ja(l,g);break e;case 1:a=u;var p=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zt===null||!zt.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var x=Qc(l,a,t);ja(l,x);break e}}l=l.return}while(l!==null)}fd(n)}catch(w){t=w,me===n&&n!==null&&(me=n=n.return);continue}break}while(!0)}function cd(){var e=Is.current;return Is.current=Ps,e===null?Ps:e}function _o(){(ye===0||ye===3||ye===2)&&(ye=4),je===null||!(ln&268435455)&&!(el&268435455)||At(je,Se)}function zs(e,t){var n=X;X|=2;var r=cd();(je!==e||Se!==t)&&(mt=null,en(e,t));do try{Xh();break}catch(s){ud(e,s)}while(!0);if(ao(),X=n,Is.current=r,me!==null)throw Error(_(261));return je=null,Se=0,ye}function Xh(){for(;me!==null;)dd(me)}function Yh(){for(;me!==null&&!kf();)dd(me)}function dd(e){var t=pd(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?fd(e):me=t,No.current=null}function fd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=bh(n,t),n!==null){n.flags&=32767,me=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ye=6,me=null;return}}else if(n=Vh(n,t,Be),n!==null){me=n;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);ye===0&&(ye=5)}function Gt(e,t,n){var r=Z,s=Ze.transition;try{Ze.transition=null,Z=1,Jh(e,t,n,r)}finally{Ze.transition=s,Z=r}return null}function Jh(e,t,n,r){do Mn();while(Rt!==null);if(X&6)throw Error(_(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Tf(e,l),e===je&&(me=je=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qr||(qr=!0,md(xs,function(){return Mn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Ze.transition,Ze.transition=null;var o=Z;Z=1;var a=X;X|=4,No.current=null,Kh(e,n),id(n,e),yh(ai),ks=!!oi,ai=oi=null,e.current=n,Wh(n),Nf(),X=a,Z=o,Ze.transition=l}else e.current=n;if(qr&&(qr=!1,Rt=e,Os=s),l=e.pendingLanes,l===0&&(zt=null),Cf(n.stateNode),$e(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ls)throw Ls=!1,e=Fi,Fi=null,e;return Os&1&&e.tag!==0&&Mn(),l=e.pendingLanes,l&1?e===Mi?hr++:(hr=0,Mi=e):hr=0,Kt(),null}function Mn(){if(Rt!==null){var e=Wu(Os),t=Ze.transition,n=Z;try{if(Ze.transition=null,Z=16>e?16:e,Rt===null)var r=!1;else{if(e=Rt,Rt=null,Os=0,X&6)throw Error(_(331));var s=X;for(X|=4,I=e.current;I!==null;){var l=I,o=l.child;if(I.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(I=c;I!==null;){var f=I;switch(f.tag){case 0:case 11:case 15:dr(8,f,l)}var h=f.child;if(h!==null)h.return=f,I=h;else for(;I!==null;){f=I;var d=f.sibling,m=f.return;if(rd(f),f===c){I=null;break}if(d!==null){d.return=m,I=d;break}I=m}}}var v=l.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var j=k.sibling;k.sibling=null,k=j}while(k!==null)}}I=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,I=o;else e:for(;I!==null;){if(l=I,l.flags&2048)switch(l.tag){case 0:case 11:case 15:dr(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,I=g;break e}I=l.return}}var p=e.current;for(I=p;I!==null;){o=I;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,I=y;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qs(9,a)}}catch(w){fe(a,a.return,w)}if(a===o){I=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,I=x;break e}I=a.return}}if(X=s,Kt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Ks,e)}catch{}r=!0}return r}finally{Z=n,Ze.transition=t}}return!1}function Ua(e,t,n){t=On(n,t),t=Wc(e,t,1),e=Ot(e,t,1),t=Te(),e!==null&&(Pr(e,1,t),$e(e,t))}function fe(e,t,n){if(e.tag===3)Ua(e,e,n);else for(;t!==null;){if(t.tag===3){Ua(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zt===null||!zt.has(r))){e=On(n,e),e=Qc(t,e,1),t=Ot(t,e,1),e=Te(),t!==null&&(Pr(t,1,e),$e(t,e));break}}t=t.return}}function Zh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,je===e&&(Se&n)===n&&(ye===4||ye===3&&(Se&130023424)===Se&&500>pe()-wo?en(e,0):So|=n),$e(e,t)}function hd(e,t){t===0&&(e.mode&1?(t=br,br<<=1,!(br&130023424)&&(br=4194304)):t=1);var n=Te();e=Nt(e,t),e!==null&&(Pr(e,t,n),$e(e,n))}function qh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hd(e,n)}function ep(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(t),hd(e,n)}var pd;pd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Le=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Le=!1,Uh(e,t,n);Le=!!(e.flags&131072)}else Le=!1,oe&&t.flags&1048576&&vc(t,Fs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ds(e,t),e=t.pendingProps;var s=Dn(t,Fe.current);Fn(t,n),s=yo(null,t,r,e,s,n);var l=vo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(l=!0,Es(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,fo(t),s.updater=Zs,t.stateNode=s,s._reactInternals=t,yi(t,r,e,n),t=ji(null,t,r,!0,l,n)):(t.tag=0,oe&&l&&so(t),Ae(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ds(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=np(r),e=rt(r,e),s){case 0:t=xi(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Ma(null,t,r,e,n);break e;case 14:t=Aa(null,t,r,rt(r.type,e),n);break e}throw Error(_(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),xi(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Ta(e,t,r,s,n);case 3:e:{if(Jc(t),e===null)throw Error(_(387));r=t.pendingProps,l=t.memoizedState,s=l.element,wc(e,t),Ts(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=On(Error(_(423)),t),t=Ra(e,t,r,n,s);break e}else if(r!==s){s=On(Error(_(424)),t),t=Ra(e,t,r,n,s);break e}else for(be=Lt(t.stateNode.containerInfo.firstChild),He=t,oe=!0,lt=null,n=Nc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pn(),r===s){t=St(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Cc(t),e===null&&pi(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,ui(r,s)?o=null:l!==null&&ui(r,l)&&(t.flags|=32),Yc(e,t),Ae(e,t,o,n),t.child;case 6:return e===null&&pi(t),null;case 13:return Zc(e,t,n);case 4:return ho(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=In(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Ma(e,t,r,s,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,re(Ms,r._currentValue),r._currentValue=o,l!==null)if(at(l.value,o)){if(l.children===s.children&&!Oe.current){t=St(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=xt(-1,n&-n),u.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),mi(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(_(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),mi(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Ae(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Fn(t,n),s=qe(s),r=r(s),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,s=rt(r,t.pendingProps),s=rt(r.type,s),Aa(e,t,r,s,n);case 15:return Gc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ds(e,t),t.tag=1,ze(r)?(e=!0,Es(t)):e=!1,Fn(t,n),Kc(t,r,s),yi(t,r,s,n),ji(null,t,r,!0,e,n);case 19:return qc(e,t,n);case 22:return Xc(e,t,n)}throw Error(_(156,t.tag))};function md(e,t){return Vu(e,t)}function tp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,r){return new tp(e,t,n,r)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function np(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Wi)return 11;if(e===Qi)return 14}return 2}function Bt(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ps(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")Fo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hn:return tn(n.children,s,l,t);case Ki:o=8,s|=8;break;case Ul:return e=Je(12,n,t,s|2),e.elementType=Ul,e.lanes=l,e;case Vl:return e=Je(13,n,t,s),e.elementType=Vl,e.lanes=l,e;case bl:return e=Je(19,n,t,s),e.elementType=bl,e.lanes=l,e;case Cu:return tl(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Su:o=10;break e;case wu:o=9;break e;case Wi:o=11;break e;case Qi:o=14;break e;case _t:o=16,r=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Je(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function tn(e,t,n,r){return e=Je(7,e,r,t),e.lanes=n,e}function tl(e,t,n,r){return e=Je(22,e,r,t),e.elementType=Cu,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function Rl(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fl(0),this.expirationTimes=fl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mo(e,t,n,r,s,l,o,a,u){return e=new rp(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Je(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fo(l),e}function sp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function gd(e){if(!e)return Vt;e=e._reactInternals;e:{if(un(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var n=e.type;if(ze(n))return gc(e,n,t)}return t}function yd(e,t,n,r,s,l,o,a,u){return e=Mo(n,r,!0,e,s,l,o,a,u),e.context=gd(null),n=e.current,r=Te(),s=$t(n),l=xt(r,s),l.callback=t??null,Ot(n,l,s),e.current.lanes=s,Pr(e,s,r),$e(e,r),e}function nl(e,t,n,r){var s=t.current,l=Te(),o=$t(s);return n=gd(n),t.context===null?t.context=n:t.pendingContext=n,t=xt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ot(s,t,o),e!==null&&(ot(e,s,o,l),as(e,s,o)),o}function $s(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Va(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ao(e,t){Va(e,t),(e=e.alternate)&&Va(e,t)}function lp(){return null}var vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function To(e){this._internalRoot=e}rl.prototype.render=To.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));nl(e,t,null,null)};rl.prototype.unmount=To.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;on(function(){nl(null,e,null,null)}),t[kt]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&t!==0&&t<Mt[n].priority;n++);Mt.splice(n,0,e),n===0&&Ju(e)}};function Ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ba(){}function ip(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var c=$s(o);l.call(c)}}var o=yd(t,r,e,0,null,!1,!1,"",ba);return e._reactRootContainer=o,e[kt]=o.current,Nr(e.nodeType===8?e.parentNode:e),on(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$s(u);a.call(c)}}var u=Mo(e,0,!1,null,null,!1,!1,"",ba);return e._reactRootContainer=u,e[kt]=u.current,Nr(e.nodeType===8?e.parentNode:e),on(function(){nl(t,u,n,r)}),u}function ll(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var a=s;s=function(){var u=$s(o);a.call(u)}}nl(t,o,e,s)}else o=ip(n,t,e,s,r);return $s(o)}Qu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tr(t.pendingLanes);n!==0&&(Yi(t,n|1),$e(t,pe()),!(X&6)&&(zn=pe()+500,Kt()))}break;case 13:on(function(){var r=Nt(e,1);if(r!==null){var s=Te();ot(r,e,1,s)}}),Ao(e,1)}};Ji=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var n=Te();ot(t,e,134217728,n)}Ao(e,134217728)}};Gu=function(e){if(e.tag===13){var t=$t(e),n=Nt(e,t);if(n!==null){var r=Te();ot(n,e,t,r)}Ao(e,t)}};Xu=function(){return Z};Yu=function(e,t){var n=Z;try{return Z=e,t()}finally{Z=n}};ql=function(e,t,n){switch(t){case"input":if(Wl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Xs(r);if(!s)throw Error(_(90));_u(r),Wl(r,s)}}}break;case"textarea":Mu(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}};Lu=Co;Ou=on;var op={usingClientEntryPoint:!1,Events:[Lr,yn,Xs,Pu,Iu,Co]},Yn={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ap={bundleType:Yn.bundleType,version:Yn.version,rendererPackageName:Yn.rendererPackageName,rendererConfig:Yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bu(e),e===null?null:e.stateNode},findFiberByHostInstance:Yn.findFiberByHostInstance||lp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!es.isDisabled&&es.supportsFiber)try{Ks=es.inject(ap),ht=es}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=op;We.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ro(t))throw Error(_(200));return sp(e,t,null,n)};We.createRoot=function(e,t){if(!Ro(e))throw Error(_(299));var n=!1,r="",s=vd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mo(e,1,!1,null,null,n,!1,r,s),e[kt]=t.current,Nr(e.nodeType===8?e.parentNode:e),new To(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Bu(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return on(e)};We.hydrate=function(e,t,n){if(!sl(t))throw Error(_(200));return ll(null,e,t,!0,n)};We.hydrateRoot=function(e,t,n){if(!Ro(e))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=vd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=yd(t,null,e,1,n??null,s,!1,l,o),e[kt]=t.current,Nr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new rl(t)};We.render=function(e,t,n){if(!sl(t))throw Error(_(200));return ll(null,e,t,!1,n)};We.unmountComponentAtNode=function(e){if(!sl(e))throw Error(_(40));return e._reactRootContainer?(on(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};We.unstable_batchedUpdates=Co;We.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sl(n))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return ll(e,t,n,!1,r)};We.version="18.3.1-next-f1338f8080-20240426";function xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xd)}catch(e){console.error(e)}}xd(),xu.exports=We;var up=xu.exports,Ha=up;$l.createRoot=Ha.createRoot,$l.hydrateRoot=Ha.hydrateRoot;const Dl=50,Jn=5,cp=1e3,Ka=32e3;class Ve{constructor(t,n){this.apiKey=t,this.baseId=n,this.baseUrl=`https://api.airtable.com/v0/${n}`,this.metaUrl=`https://api.airtable.com/v0/meta/bases/${n}/tables`,this.schema=null,this.currentDelay=Dl}sleep(t){return new Promise(n=>setTimeout(n,t))}async request(t,n={}){var l;let r,s=cp;for(let o=0;o<=Jn;o++)try{const a=await fetch(t,{...n,headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json",...n.headers}});if(a.status===429){const u=a.headers.get("Retry-After"),c=u?parseInt(u)*1e3:s;if(this.currentDelay=Math.min(this.currentDelay*1.5,1e3),o<Jn){console.log(`Rate limited. Waiting ${c}ms before retry ${o+1}/${Jn}`),await this.sleep(c),s=Math.min(s*2,Ka);continue}throw new Error("Rate limit exceeded after maximum retries")}if(this.currentDelay>Dl&&(this.currentDelay=Math.max(this.currentDelay*.9,Dl)),!a.ok){const u=await a.json().catch(()=>({}));throw new Error(((l=u.error)==null?void 0:l.message)||`API error: ${a.status}`)}return a.json()}catch(a){if(r=a,a.message&&!a.message.includes("fetch"))throw a;if(o<Jn){console.log(`Network error. Waiting ${s}ms before retry ${o+1}/${Jn}`),await this.sleep(s),s=Math.min(s*2,Ka);continue}}throw r||new Error("Request failed after maximum retries")}async getTableSchema(t){const r=(await this.request(this.metaUrl)).tables.find(o=>o.name===t||o.id===t);if(!r)throw new Error(`Table "${t}" not found`);const s=["formula","rollup","count","lookup","multipleLookupValues","autoNumber","createdTime","lastModifiedTime","createdBy","lastModifiedBy","button"],l={tableName:r.name,tableId:r.id,allFields:{},writableFields:[],computedFields:[],linkFields:[],textFields:[],uniqueIdFields:[]};return r.fields.forEach(o=>{const a=s.includes(o.type)||o.name.includes("(from");l.allFields[o.name]={id:o.id,type:o.type,isComputed:a,options:o.options||{}},a?l.computedFields.push(o.name):(l.writableFields.push(o.name),o.type==="multipleRecordLinks"?l.linkFields.push(o.name):l.textFields.push(o.name))}),this.schema=l,l}async getAllRecords(t,n={}){const{fields:r=[],filterFormula:s="",onProgress:l=null,onRecords:o=null}=n,a=[];let u=null,c=0;do{const f=new URLSearchParams;r.length>0&&r.forEach(m=>f.append("fields[]",m)),s&&f.append("filterByFormula",s),u&&f.append("offset",u),f.append("pageSize","100");const h=`${this.baseUrl}/${encodeURIComponent(t)}?${f}`,d=await this.request(h);a.push(...d.records),u=d.offset,c++,o&&o(d.records,a),l&&l({page:c,fetched:d.records.length,total:a.length,hasMore:!!u,delay:this.currentDelay}),u&&await this.sleep(this.currentDelay)}while(u);return a}async getRecord(t,n){const r=`${this.baseUrl}/${encodeURIComponent(t)}/${n}`;return this.request(r)}async updateRecord(t,n,r){const s=`${this.baseUrl}/${encodeURIComponent(t)}/${n}`;return this.request(s,{method:"PATCH",body:JSON.stringify({fields:r})})}async createRecord(t,n){const r=`${this.baseUrl}/${encodeURIComponent(t)}`;return this.request(r,{method:"POST",body:JSON.stringify({fields:n})})}async deleteRecord(t,n){const r=`${this.baseUrl}/${encodeURIComponent(t)}/${n}`;return this.request(r,{method:"DELETE"})}async deleteRecords(t,n,r=null){const s=[],l=[];for(let o=0;o<n.length;o+=10)l.push(n.slice(o,o+10));for(let o=0;o<l.length;o++){const u=l[o].map(h=>`records[]=${h}`).join("&"),c=`${this.baseUrl}/${encodeURIComponent(t)}?${u}`,f=await this.request(c,{method:"DELETE"});s.push(...f.records),r&&r({deleted:s.length,total:n.length,chunk:o+1,totalChunks:l.length}),o<l.length-1&&await new Promise(h=>setTimeout(h,200))}return s}async updateRecords(t,n,r=null){const s=[],l=[];for(let o=0;o<n.length;o+=10)l.push(n.slice(o,o+10));for(let o=0;o<l.length;o++){const a=l[o],u=`${this.baseUrl}/${encodeURIComponent(t)}`,c=await this.request(u,{method:"PATCH",body:JSON.stringify({records:a})});s.push(...c.records),r&&r({updated:s.length,total:n.length,chunk:o+1,totalChunks:l.length}),o<l.length-1&&await new Promise(f=>setTimeout(f,200))}return s}}function dp(){try{const e=localStorage.getItem("airtable_dedupe_config");if(e)return JSON.parse(e)}catch(e){console.error("Failed to load stored credentials:",e)}return null}function fp(e){try{localStorage.setItem("airtable_dedupe_config",JSON.stringify(e))}catch(t){console.error("Failed to store credentials:",t)}}function hp({onComplete:e,onLog:t}){const[n,r]=C.useState(""),[s,l]=C.useState(""),[o,a]=C.useState("Client Info"),[u,c]=C.useState(!1),[f,h]=C.useState(null),[d,m]=C.useState(!1),[v,k]=C.useState(null),[j,g]=C.useState(null);C.useEffect(()=>{const w=dp();w&&(r(w.apiKey||""),l(w.baseId||""),a(w.tableName||"Client Info"))},[]);const p=(w,E="info")=>{t&&t(w,E)},y=async()=>{if(!n||!s||!o){h("Please fill in all fields");return}c(!0),h(null),m(!1);try{p("Connecting to Airtable...","info");const w=new Ve(n,s);p("Fetching table schema...","info");const E=await w.getTableSchema(o);g(E),p(`Schema loaded: ${E.writableFields.length} writable fields, ${E.computedFields.length} computed fields`,"success"),p("Verifying read access...","info");const N=await w.getAllRecords(o,{fields:["Client Name"],onProgress:S=>{S.page===1&&p("Found records, continuing count...","info")}});k(N.length),m(!0),p(`Successfully connected! Found ${N.length} records.`,"success"),fp({apiKey:n,baseId:s,tableName:o})}catch(w){h(w.message),p(`Connection failed: ${w.message}`,"error")}finally{c(!1)}},x=()=>{e&&e({apiKey:n,baseId:s,tableName:o,schema:j,recordCount:v})};return i.jsx("div",{className:"setup-container",children:i.jsxs("div",{className:"setup-card",children:[i.jsx("h2",{children:"Connect to Airtable"}),i.jsx("p",{className:"setup-subtitle",children:"Enter your Airtable credentials. They're stored locally in your browser and never sent to any server."}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"apiKey",children:"Personal Access Token"}),i.jsx("input",{id:"apiKey",type:"password",value:n,onChange:w=>r(w.target.value),placeholder:"pat_xxxxxxxxxxxx",disabled:u}),i.jsxs("small",{children:["Get your token from"," ",i.jsx("a",{href:"https://airtable.com/create/tokens",target:"_blank",rel:"noopener noreferrer",children:"airtable.com/create/tokens"})]})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"baseId",children:"Base ID"}),i.jsx("input",{id:"baseId",type:"text",value:s,onChange:w=>l(w.target.value),placeholder:"appXXXXXXXXXXXXXX",disabled:u}),i.jsx("small",{children:"Found in your base URL: airtable.com/[baseId]/..."})]}),i.jsxs("div",{className:"form-group",children:[i.jsx("label",{htmlFor:"tableName",children:"Table Name"}),i.jsx("input",{id:"tableName",type:"text",value:o,onChange:w=>a(w.target.value),placeholder:"Client Info",disabled:u})]}),f&&i.jsx("div",{className:"error-message",children:f}),d&&i.jsxs("div",{className:"success-message",children:[i.jsx("div",{className:"success-icon",children:""}),i.jsxs("div",{children:[i.jsx("strong",{children:"Connected successfully!"}),i.jsxs("p",{children:[v.toLocaleString()," records found in ",o]}),i.jsxs("p",{children:[j==null?void 0:j.writableFields.length," writable fields, ",j==null?void 0:j.computedFields.length," computed (read-only)"]})]})]}),i.jsxs("div",{className:"button-group",children:[i.jsx("button",{className:"btn btn-primary",onClick:y,disabled:u||!n||!s||!o,children:u?"Connecting...":d?"Re-validate":"Connect"}),d&&i.jsx("button",{className:"btn btn-success",onClick:x,children:"Continue to Configuration "})]}),j&&i.jsxs("details",{className:"schema-details",children:[i.jsx("summary",{children:"View Schema Details"}),i.jsxs("div",{className:"schema-content",children:[i.jsxs("h4",{children:["Writable Fields (",j.writableFields.length,")"]}),i.jsx("ul",{className:"field-list",children:j.writableFields.map(w=>i.jsxs("li",{className:j.linkFields.includes(w)?"link-field":"",children:[w,j.linkFields.includes(w)&&i.jsx("span",{className:"field-tag",children:"link"})]},w))}),i.jsxs("h4",{children:["Computed Fields (",j.computedFields.length,")"]}),i.jsx("ul",{className:"field-list computed",children:j.computedFields.map(w=>i.jsx("li",{children:w},w))})]})]})]})})}function wt(e){return Array.isArray?Array.isArray(e):Nd(e)==="[object Array]"}function pp(e){if(typeof e=="string")return e;let t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function mp(e){return e==null?"":pp(e)}function ft(e){return typeof e=="string"}function jd(e){return typeof e=="number"}function gp(e){return e===!0||e===!1||yp(e)&&Nd(e)=="[object Boolean]"}function kd(e){return typeof e=="object"}function yp(e){return kd(e)&&e!==null}function Ue(e){return e!=null}function Pl(e){return!e.trim().length}function Nd(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const vp="Incorrect 'index' type",xp=e=>`Invalid value for key ${e}`,jp=e=>`Pattern length exceeds max of ${e}.`,kp=e=>`Missing ${e} property in key`,Np=e=>`Property 'weight' in key '${e}' must be a positive integer`,Wa=Object.prototype.hasOwnProperty;class Sp{constructor(t){this._keys=[],this._keyMap={};let n=0;t.forEach(r=>{let s=Sd(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Sd(e){let t=null,n=null,r=null,s=1,l=null;if(ft(e)||wt(e))r=e,t=Qa(e),n=Ri(e);else{if(!Wa.call(e,"name"))throw new Error(kp("name"));const o=e.name;if(r=o,Wa.call(e,"weight")&&(s=e.weight,s<=0))throw new Error(Np(o));t=Qa(o),n=Ri(o),l=e.getFn}return{path:t,id:n,weight:s,src:r,getFn:l}}function Qa(e){return wt(e)?e:e.split(".")}function Ri(e){return wt(e)?e.join("."):e}function wp(e,t){let n=[],r=!1;const s=(l,o,a)=>{if(Ue(l))if(!o[a])n.push(l);else{let u=o[a];const c=l[u];if(!Ue(c))return;if(a===o.length-1&&(ft(c)||jd(c)||gp(c)))n.push(mp(c));else if(wt(c)){r=!0;for(let f=0,h=c.length;f<h;f+=1)s(c[f],o,a+1)}else o.length&&s(c,o,a+1)}};return s(e,ft(t)?t.split("."):t,0),r?n:n[0]}const Cp={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Ep={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1},_p={location:0,threshold:.6,distance:100},Fp={useExtendedSearch:!1,getFn:wp,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var z={...Ep,...Cp,..._p,...Fp};const Mp=/[^ ]+/g;function Ap(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(s){const l=s.match(Mp).length;if(n.has(l))return n.get(l);const o=1/Math.pow(l,.5*e),a=parseFloat(Math.round(o*r)/r);return n.set(l,a),a},clear(){n.clear()}}}class Do{constructor({getFn:t=z.getFn,fieldNormWeight:n=z.fieldNormWeight}={}){this.norm=Ap(n,3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(t=[]){this.docs=t}setIndexRecords(t=[]){this.records=t}setKeys(t=[]){this.keys=t,this._keysMap={},t.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,ft(this.docs[0])?this.docs.forEach((t,n)=>{this._addString(t,n)}):this.docs.forEach((t,n)=>{this._addObject(t,n)}),this.norm.clear())}add(t){const n=this.size();ft(t)?this._addString(t,n):this._addObject(t,n)}removeAt(t){this.records.splice(t,1);for(let n=t,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(t,n){return t[this._keysMap[n]]}size(){return this.records.length}_addString(t,n){if(!Ue(t)||Pl(t))return;let r={v:t,i:n,n:this.norm.get(t)};this.records.push(r)}_addObject(t,n){let r={i:n,$:{}};this.keys.forEach((s,l)=>{let o=s.getFn?s.getFn(t):this.getFn(t,s.path);if(Ue(o)){if(wt(o)){let a=[];const u=[{nestedArrIndex:-1,value:o}];for(;u.length;){const{nestedArrIndex:c,value:f}=u.pop();if(Ue(f))if(ft(f)&&!Pl(f)){let h={v:f,i:c,n:this.norm.get(f)};a.push(h)}else wt(f)&&f.forEach((h,d)=>{u.push({nestedArrIndex:d,value:h})})}r.$[l]=a}else if(ft(o)&&!Pl(o)){let a={v:o,n:this.norm.get(o)};r.$[l]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function wd(e,t,{getFn:n=z.getFn,fieldNormWeight:r=z.fieldNormWeight}={}){const s=new Do({getFn:n,fieldNormWeight:r});return s.setKeys(e.map(Sd)),s.setSources(t),s.create(),s}function Tp(e,{getFn:t=z.getFn,fieldNormWeight:n=z.fieldNormWeight}={}){const{keys:r,records:s}=e,l=new Do({getFn:t,fieldNormWeight:n});return l.setKeys(r),l.setIndexRecords(s),l}function ts(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:s=z.distance,ignoreLocation:l=z.ignoreLocation}={}){const o=t/e.length;if(l)return o;const a=Math.abs(r-n);return s?o+a/s:a?1:o}function Rp(e=[],t=z.minMatchCharLength){let n=[],r=-1,s=-1,l=0;for(let o=e.length;l<o;l+=1){let a=e[l];a&&r===-1?r=l:!a&&r!==-1&&(s=l-1,s-r+1>=t&&n.push([r,s]),r=-1)}return e[l-1]&&l-r>=t&&n.push([r,l-1]),n}const Xt=32;function Dp(e,t,n,{location:r=z.location,distance:s=z.distance,threshold:l=z.threshold,findAllMatches:o=z.findAllMatches,minMatchCharLength:a=z.minMatchCharLength,includeMatches:u=z.includeMatches,ignoreLocation:c=z.ignoreLocation}={}){if(t.length>Xt)throw new Error(jp(Xt));const f=t.length,h=e.length,d=Math.max(0,Math.min(r,h));let m=l,v=d;const k=a>1||u,j=k?Array(h):[];let g;for(;(g=e.indexOf(t,v))>-1;){let N=ts(t,{currentLocation:g,expectedLocation:d,distance:s,ignoreLocation:c});if(m=Math.min(N,m),v=g+f,k){let S=0;for(;S<f;)j[g+S]=1,S+=1}}v=-1;let p=[],y=1,x=f+h;const w=1<<f-1;for(let N=0;N<f;N+=1){let S=0,F=x;for(;S<F;)ts(t,{errors:N,currentLocation:d+F,expectedLocation:d,distance:s,ignoreLocation:c})<=m?S=F:x=F,F=Math.floor((x-S)/2+S);x=F;let P=Math.max(1,d-F+1),H=o?h:Math.min(d+F,h)+f,b=Array(H+2);b[H+1]=(1<<N)-1;for(let T=H;T>=P;T-=1){let ne=T-1,Y=n[e.charAt(ne)];if(k&&(j[ne]=+!!Y),b[T]=(b[T+1]<<1|1)&Y,N&&(b[T]|=(p[T+1]|p[T])<<1|1|p[T+1]),b[T]&w&&(y=ts(t,{errors:N,currentLocation:ne,expectedLocation:d,distance:s,ignoreLocation:c}),y<=m)){if(m=y,v=ne,v<=d)break;P=Math.max(1,2*d-v)}}if(ts(t,{errors:N+1,currentLocation:d,expectedLocation:d,distance:s,ignoreLocation:c})>m)break;p=b}const E={isMatch:v>=0,score:Math.max(.001,y)};if(k){const N=Rp(j,a);N.length?u&&(E.indices=N):E.isMatch=!1}return E}function Pp(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const s=e.charAt(n);t[s]=(t[s]||0)|1<<r-n-1}return t}const Bs=String.prototype.normalize?e=>e.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):e=>e;class Cd{constructor(t,{location:n=z.location,threshold:r=z.threshold,distance:s=z.distance,includeMatches:l=z.includeMatches,findAllMatches:o=z.findAllMatches,minMatchCharLength:a=z.minMatchCharLength,isCaseSensitive:u=z.isCaseSensitive,ignoreDiacritics:c=z.ignoreDiacritics,ignoreLocation:f=z.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:l,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:f},t=u?t:t.toLowerCase(),t=c?Bs(t):t,this.pattern=t,this.chunks=[],!this.pattern.length)return;const h=(m,v)=>{this.chunks.push({pattern:m,alphabet:Pp(m),startIndex:v})},d=this.pattern.length;if(d>Xt){let m=0;const v=d%Xt,k=d-v;for(;m<k;)h(this.pattern.substr(m,Xt),m),m+=Xt;if(v){const j=d-Xt;h(this.pattern.substr(j),j)}}else h(this.pattern,0)}searchIn(t){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(t=n?t:t.toLowerCase(),t=r?Bs(t):t,this.pattern===t){let k={isMatch:!0,score:0};return s&&(k.indices=[[0,t.length-1]]),k}const{location:l,distance:o,threshold:a,findAllMatches:u,minMatchCharLength:c,ignoreLocation:f}=this.options;let h=[],d=0,m=!1;this.chunks.forEach(({pattern:k,alphabet:j,startIndex:g})=>{const{isMatch:p,score:y,indices:x}=Dp(t,k,j,{location:l+g,distance:o,threshold:a,findAllMatches:u,minMatchCharLength:c,includeMatches:s,ignoreLocation:f});p&&(m=!0),d+=y,p&&x&&(h=[...h,...x])});let v={isMatch:m,score:m?d/this.chunks.length:1};return m&&s&&(v.indices=h),v}}class Wt{constructor(t){this.pattern=t}static isMultiMatch(t){return Ga(t,this.multiRegex)}static isSingleMatch(t){return Ga(t,this.singleRegex)}search(){}}function Ga(e,t){const n=e.match(t);return n?n[1]:null}class Ip extends Wt{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const n=t===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Lp extends Wt{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const r=t.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,t.length-1]}}}class Op extends Wt{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const n=t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class zp extends Wt{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const n=!t.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class $p extends Wt{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const n=t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class Bp extends Wt{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const n=!t.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,t.length-1]}}}class Ed extends Wt{constructor(t,{location:n=z.location,threshold:r=z.threshold,distance:s=z.distance,includeMatches:l=z.includeMatches,findAllMatches:o=z.findAllMatches,minMatchCharLength:a=z.minMatchCharLength,isCaseSensitive:u=z.isCaseSensitive,ignoreDiacritics:c=z.ignoreDiacritics,ignoreLocation:f=z.ignoreLocation}={}){super(t),this._bitapSearch=new Cd(t,{location:n,threshold:r,distance:s,includeMatches:l,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreDiacritics:c,ignoreLocation:f})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class _d extends Wt{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let n=0,r;const s=[],l=this.pattern.length;for(;(r=t.indexOf(this.pattern,n))>-1;)n=r+l,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const Di=[Ip,_d,Op,zp,Bp,$p,Lp,Ed],Xa=Di.length,Up=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Vp="|";function bp(e,t={}){return e.split(Vp).map(n=>{let r=n.trim().split(Up).filter(l=>l&&!!l.trim()),s=[];for(let l=0,o=r.length;l<o;l+=1){const a=r[l];let u=!1,c=-1;for(;!u&&++c<Xa;){const f=Di[c];let h=f.isMultiMatch(a);h&&(s.push(new f(h,t)),u=!0)}if(!u)for(c=-1;++c<Xa;){const f=Di[c];let h=f.isSingleMatch(a);if(h){s.push(new f(h,t));break}}}return s})}const Hp=new Set([Ed.type,_d.type]);class Kp{constructor(t,{isCaseSensitive:n=z.isCaseSensitive,ignoreDiacritics:r=z.ignoreDiacritics,includeMatches:s=z.includeMatches,minMatchCharLength:l=z.minMatchCharLength,ignoreLocation:o=z.ignoreLocation,findAllMatches:a=z.findAllMatches,location:u=z.location,threshold:c=z.threshold,distance:f=z.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:l,findAllMatches:a,ignoreLocation:o,location:u,threshold:c,distance:f},t=n?t:t.toLowerCase(),t=r?Bs(t):t,this.pattern=t,this.query=bp(this.pattern,this.options)}static condition(t,n){return n.useExtendedSearch}searchIn(t){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:l}=this.options;t=s?t:t.toLowerCase(),t=l?Bs(t):t;let o=0,a=[],u=0;for(let c=0,f=n.length;c<f;c+=1){const h=n[c];a.length=0,o=0;for(let d=0,m=h.length;d<m;d+=1){const v=h[d],{isMatch:k,indices:j,score:g}=v.search(t);if(k){if(o+=1,u+=g,r){const p=v.constructor.type;Hp.has(p)?a=[...a,...j]:a.push(j)}}else{u=0,o=0,a.length=0;break}}if(o){let d={isMatch:!0,score:u/o};return r&&(d.indices=a),d}}return{isMatch:!1,score:1}}}const Pi=[];function Wp(...e){Pi.push(...e)}function Ii(e,t){for(let n=0,r=Pi.length;n<r;n+=1){let s=Pi[n];if(s.condition(e,t))return new s(e,t)}return new Cd(e,t)}const Us={AND:"$and",OR:"$or"},Li={PATH:"$path",PATTERN:"$val"},Oi=e=>!!(e[Us.AND]||e[Us.OR]),Qp=e=>!!e[Li.PATH],Gp=e=>!wt(e)&&kd(e)&&!Oi(e),Ya=e=>({[Us.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function Fd(e,t,{auto:n=!0}={}){const r=s=>{let l=Object.keys(s);const o=Qp(s);if(!o&&l.length>1&&!Oi(s))return r(Ya(s));if(Gp(s)){const u=o?s[Li.PATH]:l[0],c=o?s[Li.PATTERN]:s[u];if(!ft(c))throw new Error(xp(u));const f={keyId:Ri(u),pattern:c};return n&&(f.searcher=Ii(c,t)),f}let a={children:[],operator:l[0]};return l.forEach(u=>{const c=s[u];wt(c)&&c.forEach(f=>{a.children.push(r(f))})}),a};return Oi(e)||(e=Ya(e)),r(e)}function Xp(e,{ignoreFieldNorm:t=z.ignoreFieldNorm}){e.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:l,score:o})=>{const a=s?s.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(t?1:l))}),n.score=r})}function Yp(e,t){const n=e.matches;t.matches=[],Ue(n)&&n.forEach(r=>{if(!Ue(r.indices)||!r.indices.length)return;const{indices:s,value:l}=r;let o={indices:s,value:l};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),t.matches.push(o)})}function Jp(e,t){t.score=e.score}function Zp(e,t,{includeMatches:n=z.includeMatches,includeScore:r=z.includeScore}={}){const s=[];return n&&s.push(Yp),r&&s.push(Jp),e.map(l=>{const{idx:o}=l,a={item:t[o],refIndex:o};return s.length&&s.forEach(u=>{u(l,a)}),a})}class Vn{constructor(t,n={},r){this.options={...z,...n},this.options.useExtendedSearch,this._keyStore=new Sp(this.options.keys),this.setCollection(t,r)}setCollection(t,n){if(this._docs=t,n&&!(n instanceof Do))throw new Error(vp);this._myIndex=n||wd(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(t){Ue(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(t=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const l=this._docs[r];t(l,r)&&(this.removeAt(r),r-=1,s-=1,n.push(l))}return n}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:l,sortFn:o,ignoreFieldNorm:a}=this.options;let u=ft(t)?ft(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return Xp(u,{ignoreFieldNorm:a}),l&&u.sort(o),jd(n)&&n>-1&&(u=u.slice(0,n)),Zp(u,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(t){const n=Ii(t,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:l,i:o,n:a})=>{if(!Ue(l))return;const{isMatch:u,score:c,indices:f}=n.searchIn(l);u&&s.push({item:l,idx:o,matches:[{score:c,value:l,norm:a,indices:f}]})}),s}_searchLogical(t){const n=Fd(t,this.options),r=(a,u,c)=>{if(!a.children){const{keyId:h,searcher:d}=a,m=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:d});return m&&m.length?[{idx:c,item:u,matches:m}]:[]}const f=[];for(let h=0,d=a.children.length;h<d;h+=1){const m=a.children[h],v=r(m,u,c);if(v.length)f.push(...v);else if(a.operator===Us.AND)return[]}return f},s=this._myIndex.records,l={},o=[];return s.forEach(({$:a,i:u})=>{if(Ue(a)){let c=r(n,a,u);c.length&&(l[u]||(l[u]={idx:u,item:a,matches:[]},o.push(l[u])),c.forEach(({matches:f})=>{l[u].matches.push(...f)}))}}),o}_searchObjectList(t){const n=Ii(t,this.options),{keys:r,records:s}=this._myIndex,l=[];return s.forEach(({$:o,i:a})=>{if(!Ue(o))return;let u=[];r.forEach((c,f)=>{u.push(...this._findMatches({key:c,value:o[f],searcher:n}))}),u.length&&l.push({idx:a,item:o,matches:u})}),l}_findMatches({key:t,value:n,searcher:r}){if(!Ue(n))return[];let s=[];if(wt(n))n.forEach(({v:l,i:o,n:a})=>{if(!Ue(l))return;const{isMatch:u,score:c,indices:f}=r.searchIn(l);u&&s.push({score:c,key:t,value:l,idx:o,norm:a,indices:f})});else{const{v:l,n:o}=n,{isMatch:a,score:u,indices:c}=r.searchIn(l);a&&s.push({score:u,key:t,value:l,norm:o,indices:c})}return s}}Vn.version="7.1.0";Vn.createIndex=wd;Vn.parseIndex=Tp;Vn.config=z;Vn.parseQuery=Fd;Wp(Kp);const Md={robert:["bob","bobby","rob","robbie","bert"],bob:["robert","bobby","rob"],bobby:["robert","bob","rob"],william:["bill","billy","will","willy","liam"],bill:["william","billy","will"],billy:["william","bill","will"],richard:["rick","ricky","rich","dick","dickie"],rick:["richard","ricky","rich"],james:["jim","jimmy","jamie"],jim:["james","jimmy","jamie"],jimmy:["james","jim","jamie"],michael:["mike","mikey","mick","mickey"],mike:["michael","mikey","mick"],elizabeth:["liz","lizzy","beth","betty","eliza","lisa"],liz:["elizabeth","lizzy","beth"],beth:["elizabeth","liz","betty"],jennifer:["jen","jenny","jenn"],jen:["jennifer","jenny"],jenny:["jennifer","jen"],katherine:["kate","katie","kathy","cathy","kit"],catherine:["kate","katie","kathy","cathy","kit"],kate:["katherine","catherine","katie"],margaret:["maggie","meg","peggy","marge","margie"],maggie:["margaret","meg"],charles:["charlie","chuck","chas"],charlie:["charles","chuck"],joseph:["joe","joey","jo"],joe:["joseph","joey"],thomas:["tom","tommy","thom"],tom:["thomas","tommy"],christopher:["chris","topher","kit"],chris:["christopher","christine","christina"],patricia:["pat","patty","trish","tricia"],pat:["patricia","patrick"],patrick:["pat","paddy","rick"],daniel:["dan","danny","dannie"],dan:["daniel","danny"],anthony:["tony","ant"],tony:["anthony"],samuel:["sam","sammy"],sam:["samuel","samantha","sammy"],jose:["pepe","chepe","joe"],francisco:["paco","pancho","frank","frankie"],guadalupe:["lupe","lupita"],maria:["mary","mari"],jesus:["chuy","chucho"],alejandro:["alex","alejo"],alejandra:["alex","aleja"],miguel:["mike","michael"],guillermo:["memo","william","bill"],enrique:["henry","kike"],roberto:["robert","bob","beto"],eduardo:["eddie","edward","lalo"],fernando:["fernie","nando"],ricardo:["richard","rick","ricky"]},rr={};Object.entries(Md).forEach(([e,t])=>{t.forEach(n=>{rr[n]||(rr[n]=[]),rr[n].includes(e)||rr[n].push(e)})});const qp=["dr","dr.","doctor","mr","mr.","mister","mrs","mrs.","missus","ms","ms.","miss","prof","prof.","professor","rev","rev.","reverend","hon","hon.","honorable","sr","sr.","seor","senor","sra","sra.","seora","senora"],em=["jr","jr.","junior","sr","sr.","senior","i","ii","iii","iv","v","1st","2nd","3rd","4th","esq","esq.","esquire","phd","ph.d","ph.d.","md","m.d","m.d."];function ms(e){return e?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):""}function Tr(e){if(!e||typeof e!="string")return{canonical:"",variants:[],honorifics:[],suffixes:[],parts:[],original:e||""};let t=ms(e).toLowerCase().trim().replace(/\s+/g," ").replace(/[.,'"()]/g," ").replace(/\s+/g," ").trim();const n=[],r=[];qp.forEach(a=>{const u=new RegExp(`\\b${a.replace(".","\\.")}\\b`,"gi");u.test(t)&&(n.push(a.replace(".","")),t=t.replace(u," ").replace(/\s+/g," ").trim())}),em.forEach(a=>{const u=new RegExp(`\\b${a.replace(".","\\.")}\\b`,"gi");u.test(t)&&(r.push(a.replace(".","")),t=t.replace(u," ").replace(/\s+/g," ").trim())});const s=t.split(/[\s,]+/).filter(a=>a.length>0);if(e.includes(",")){const a=e.split(",").map(u=>u.trim());if(a.length===2){const u=ms(a[0]).toLowerCase().trim(),c=ms(a[1]).toLowerCase().trim().split(/\s+/);s.length=0,s.push(...c,u)}}const l=s.slice().sort().join(" "),o=new Set([l]);return s.forEach((a,u)=>{const c=Md[a]||[],f=rr[a]||[];[...c,...f].forEach(d=>{const m=[...s];m[u]=d,o.add(m.slice().sort().join(" "))})}),{canonical:l,variants:Array.from(o),honorifics:n,suffixes:r,parts:s,original:e}}function tm(e,t){if(!e||!t)return Math.max((e||"").length,(t||"").length);const n=[];for(let r=0;r<=t.length;r++)n[r]=[r];for(let r=0;r<=e.length;r++)n[0][r]=r;for(let r=1;r<=t.length;r++)for(let s=1;s<=e.length;s++)t.charAt(r-1)===e.charAt(s-1)?n[r][s]=n[r-1][s-1]:n[r][s]=Math.min(n[r-1][s-1]+1,n[r][s-1]+1,n[r-1][s]+1);return n[t.length][e.length]}function Ad(e,t){if(!e&&!t)return 100;if(!e||!t)return 0;const n=tm(e.toLowerCase(),t.toLowerCase()),r=Math.max(e.length,t.length);return r===0?100:Math.round((1-n/r)*100)}function nm(e,t,n=80){const r=Tr(e),s=Tr(t);if(r.canonical===s.canonical)return{match:!0,score:100,reason:"exact_canonical"};for(const a of r.variants)for(const u of s.variants)if(a===u)return{match:!0,score:95,reason:"nickname_variant"};const l=Ad(r.canonical,s.canonical);if(l>=n)return{match:!0,score:l,reason:"fuzzy_match"};const o=r.parts.filter(a=>s.parts.includes(a));return o.length>=2&&o.length>=Math.min(r.parts.length,s.parts.length)?{match:!0,score:85,reason:"shared_parts"}:{match:!1,score:l,reason:"no_match"}}function Ja(e){if(!e)return"";const t=e.replace(/\D/g,"");return t.length===11&&t[0]==="1"?t.slice(1):t}function Za(e){return e?e.toLowerCase().trim():""}function qa(e){return e?ms(e).toLowerCase().trim().replace(/\bstreet\b/g,"st").replace(/\bavenue\b/g,"ave").replace(/\bdrive\b/g,"dr").replace(/\bboulevard\b/g,"blvd").replace(/\broad\b/g,"rd").replace(/\bcourt\b/g,"ct").replace(/\blane\b/g,"ln").replace(/\bapartment\b/g,"apt").replace(/\bsuite\b/g,"ste").replace(/\bnorth\b/g,"n").replace(/\bsouth\b/g,"s").replace(/\beast\b/g,"e").replace(/\bwest\b/g,"w").replace(/[.,#]/g,"").replace(/\s+/g," ").trim():""}const dn={DEFINITIVE:{tier:1,name:"Definitive",minConfidence:100,color:"#10b981"},STRONG:{tier:2,name:"Strong",minConfidence:85,color:"#6366f1"},POSSIBLE:{tier:3,name:"Possible",minConfidence:70,color:"#f59e0b"},INVESTIGATE:{tier:4,name:"Investigate",minConfidence:0,color:"#ef4444"}},An={uniqueIdFields:["PPID","clio_contact_id","A#"],nameFields:["Client Name","First Name","Family Name","Middle Name"],corroboratingFields:["Phone Number","Client Email","DOB","Address","Address Line 1"],excludeFromMerge:["Box Legacy ID"],concatenateFields:["Client Notes"],linkFields:["Case Master View","Events","Relationships","Matters"]};function rm(e,t=An){const n=e.fields||{},r=(n["First Name"]||"").toLowerCase().trim(),s=(n["Family Name"]||"").toLowerCase().trim();if(r&&s)return Tr(`${r} ${s}`).canonical;const l=n["Client Name"]||"";return l?Tr(l).canonical:null}function eu(e,t,n=An){const r=e.fields||{},s=t.fields||{},l=[],o=[];let a=0;for(const x of n.uniqueIdFields){const w=r[x],E=s[x];w&&E&&(w===E?(l.push(`${x} exact match`),a=Math.max(a,100)):o.push(`${x} conflict: "${w}" vs "${E}"`))}if(o.length>0)return{tier:dn.INVESTIGATE,confidence:Math.max(a,50),reasons:l,conflicts:o,isConflict:!0};if(a>=100)return{tier:dn.DEFINITIVE,confidence:100,reasons:l,conflicts:o,isConflict:!1};const u=Yt(r),c=Yt(s);if(u&&c){const x=nm(u,c,75);x.match&&(l.push(`Name: ${x.score}% (${x.reason})`),a=Math.max(a,x.score))}let f=0;const h=Ja(r["Phone Number"]),d=Ja(s["Phone Number"]);h&&d&&h.length>=10&&h===d&&(l.push("Phone exact match"),f++,a=Math.min(100,a+10));const m=Za(r["Client Email"]),v=Za(s["Client Email"]);m&&v&&!m.includes("null@blank")&&m===v&&(l.push("Email exact match"),f++,a=Math.min(100,a+10));const k=r.DOB,j=s.DOB;k&&j&&k===j&&(l.push("DOB exact match"),f++,a=Math.min(100,a+15));const g=qa(r.Address||r["Address Line 1"]),p=qa(s.Address||s["Address Line 1"]);if(g&&p){const x=Ad(g,p);x>=80&&(l.push(`Address: ${x}% similar`),f++,a=Math.min(100,a+5))}let y;return a>=100?y=dn.DEFINITIVE:a>=85||a>=75&&f>=1?y=dn.STRONG:a>=70?y=dn.POSSIBLE:(y=dn.POSSIBLE,a=Math.max(a,70)),{tier:y,confidence:Math.round(a),reasons:l,conflicts:o,isConflict:!1}}function Yt(e){const t=[e["First Name"],e["Middle Name"],e["Family Name"]].filter(Boolean);return t.length>0?t.join(" "):e["Client Name"]||e.Full_Name_Normal_Pretty||""}function ns(e){var u,c,f;const t=e.fields||{};let n=0;(u=t["A#"])!=null&&u.trim()&&(n+=50),t.DOB&&(n+=30),t.clio_contact_id&&(n+=25),t.PPID&&(n+=20),t.Box_Folder_ID&&(n+=40),t.box_shared_link&&(n+=10),(c=t["Phone Number"])!=null&&c.trim()&&(n+=15),(f=t["Client Email"])!=null&&f.trim()&&!t["Client Email"].includes("null@blank")&&(n+=15),(t["Address Line 1"]||t.Address)&&(n+=10),t.City&&(n+=5),t.State&&(n+=5),t["Zip (5)"]&&(n+=5);const r=t["Case Master View"]||[];n+=r.length*100;const s=t.Events||[];n+=s.length*50;const l=t.Relationships||[];n+=l.length*30;const o=t.Matters||[];n+=o.length*80;const a=t["Client Notes"]||[];return n+=a.length*20,t["First Name"]&&(n+=5),t["Middle Name"]&&(n+=3),t["Family Name"]&&(n+=5),t["Entry Date"]&&(n+=10),n}function tu(e,t=An,n=null){const r=[],s=new Set,l=new Map;e.forEach((f,h)=>{const d=rm(f,t);d&&(l.has(d)||l.set(d,[]),l.get(d).push({record:f,index:h}))});let o=0;const a=l.size;l.forEach((f,h)=>{if(f.length<2){o++;return}for(let d=0;d<f.length;d++)for(let m=d+1;m<f.length;m++){const v=[f[d].record.id,f[m].record.id].sort().join("|");if(s.has(v))continue;s.add(v);const k=eu(f[d].record,f[m].record,t);if(k.confidence>=70||k.isConflict){const j=ns(f[d].record),g=ns(f[m].record),[p,y]=j>=g?[f[d],f[m]]:[f[m],f[d]];r.push({id:`match_${r.length}`,matchKey:h,...k,survivor:{record:p.record,score:j>=g?j:g,name:Yt(p.record.fields)},merged:{record:y.record,score:j>=g?g:j,name:Yt(y.record.fields)}})}}o++,n&&o%100===0&&n({phase:"matching",current:o,total:a,candidatesFound:r.length})});const u=e.map((f,h)=>({record:f,index:h,searchName:Yt(f.fields)})).filter(f=>f.searchName),c=new Vn(u,{keys:["searchName"],threshold:.3,includeScore:!0});return u.forEach((f,h)=>{h%100===0&&n&&n({phase:"fuzzy",current:h,total:u.length,candidatesFound:r.length}),c.search(f.searchName).forEach(m=>{if(m.refIndex===h)return;const v=[f.record.id,m.item.record.id].sort().join("|");if(s.has(v))return;s.add(v);const k=eu(f.record,m.item.record,t);if(k.confidence>=70||k.isConflict){const j=ns(f.record),g=ns(m.item.record),[p,y]=j>=g?[f,m.item]:[m.item,f];r.push({id:`match_${r.length}`,matchKey:Tr(f.searchName).canonical,...k,survivor:{record:p.record,score:j>=g?j:g,name:Yt(p.record.fields)},merged:{record:y.record,score:j>=g?g:j,name:Yt(y.record.fields)}})}})}),r.sort((f,h)=>f.tier.tier!==h.tier.tier?f.tier.tier-h.tier.tier:h.confidence-f.confidence),r}function nu(e){const t=new Map,n=[];return e.forEach(r=>{const s=r.survivor.record.id,l=r.merged.record.id,o=t.get(s),a=t.get(l);if(!o&&!a){const u={id:`group_${n.length}`,records:[r.survivor,r.merged],matches:[r],bestTier:r.tier,highestConfidence:r.confidence};n.push(u),t.set(s,u),t.set(l,u)}else if(o&&!a)o.records.push(r.merged),o.matches.push(r),o.highestConfidence=Math.max(o.highestConfidence,r.confidence),r.tier.tier<o.bestTier.tier&&(o.bestTier=r.tier),t.set(l,o);else if(!o&&a)a.records.push(r.survivor),a.matches.push(r),a.highestConfidence=Math.max(a.highestConfidence,r.confidence),r.tier.tier<a.bestTier.tier&&(a.bestTier=r.tier),t.set(s,a);else if(o!==a){a.records.forEach(c=>{o.records.find(f=>f.record.id===c.record.id)||o.records.push(c),t.set(c.record.id,o)}),o.matches.push(...a.matches,r),o.highestConfidence=Math.max(o.highestConfidence,a.highestConfidence,r.confidence),a.bestTier.tier<o.bestTier.tier&&(o.bestTier=a.bestTier);const u=n.indexOf(a);u>-1&&n.splice(u,1)}else o.matches.push(r)}),n.forEach(r=>{const s=new Set;r.records=r.records.filter(l=>s.has(l.record.id)?!1:(s.add(l.record.id),!0)),r.records.sort((l,o)=>o.score-l.score),r.survivor=r.records[0],r.toMerge=r.records.slice(1)}),n}function Td(){return"mrg_"+Math.random().toString(36).substr(2,9)}const te={KEEP_A:"keep_a",KEEP_B:"keep_b",CONCATENATE:"concatenate",MERGE_LINKS:"merge_links",MANUAL:"manual",AUTO:"auto"},Vs={concatenateFields:["Client Notes"],linkFields:["Case Master View","Events","Relationships","Matters","Client Notes"],excludeFields:["Box Legacy ID","Created At","Created Q Single Select","Email Imported","Imported table 9","PPID copy","smsFolder","Xano Last Updated"],concatenateDelimiter:" | "};function Il(e){return!!(e==null||typeof e=="string"&&e.trim()===""||Array.isArray(e)&&e.length===0)}function Rd(e,t,n,r,s={}){const l=new Date().toISOString(),o=Td(),a={merge_id:o,timestamp:l,action:"merge",confidence:s.confidence||null,match_reasons:s.matchReasons||[],survivor_record_id:e.record.id,survivor_field_snapshot:{...e.record.fields},survivor_linked_records:ru(e.record.fields,r),merged_records:t.map(f=>({original_record_id:f.record.id,field_snapshot:{...f.record.fields},linked_records:ru(f.record.fields,r)})),field_decisions:n,performed_by:s.performedBy||"user",notes:s.notes||""},u={};Object.entries(n).forEach(([f,h])=>{h.include&&(r.computedFields.includes(f)||Vs.excludeFields.includes(f)||(u[f]=h.value))});const c=Tn(e.record.fields.dedupe_history);return c.push(a),u.dedupe_history=JSON.stringify(c,null,2),{mergeId:o,historyEntry:a,updateFields:u,recordsToDelete:t.map(f=>f.record.id)}}function ru(e,t){const n={};return t&&t.linkFields.forEach(r=>{const s=e[r];Array.isArray(s)&&s.length>0&&(n[r]=s)}),n}function Tn(e){if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:t.dedupe_history&&Array.isArray(t.dedupe_history)?t.dedupe_history:t._merge_history&&Array.isArray(t._merge_history)?t._merge_history:[]}catch(t){return console.error("Failed to parse dedupe_history:",t),[]}}function sm(e,t,n){const r=Tn(e.fields.dedupe_history),s=r.find(h=>h.merge_id===t);if(!s)throw new Error(`Merge event ${t} not found in history`);const l=new Date().toISOString(),o=Td().replace("mrg_","unmrg_"),a=s.merged_records.map(h=>{const d={};return Object.entries(h.field_snapshot).forEach(([m,v])=>{n.computedFields.includes(m)||(d[m]=v)}),{originalId:h.original_record_id,fields:d,linkedRecords:h.linked_records}}),u={};s.survivor_field_snapshot&&Object.entries(s.survivor_field_snapshot).forEach(([h,d])=>{n.computedFields.includes(h)||h!=="dedupe_history"&&(u[h]=d)});const c={merge_id:o,timestamp:l,action:"unmerge",original_merge_id:t,survivor_record_id:e.id,pre_unmerge_snapshot:{...e.fields},survivor_fields_restored:!!s.survivor_field_snapshot,restored_records:s.merged_records.map(h=>h.original_record_id),performed_by:"user",notes:`Unmerge of ${t}`},f=[...r,c];return u.dedupe_history=JSON.stringify(f,null,2),{unmergeId:o,mergeEvent:s,recordsToCreate:a,survivorUpdates:u,unmergeHistoryEntry:c}}function Dd(e,t,n,r=Vs){const s={},l=new Set;return Object.keys(e.record.fields).forEach(o=>l.add(o)),t.forEach(o=>{Object.keys(o.record.fields).forEach(a=>l.add(a))}),l.forEach(o=>{if(n.computedFields.includes(o)){s[o]={strategy:"computed",include:!1,isComputed:!0};return}if(r.excludeFields.includes(o)){s[o]={strategy:"excluded",include:!1,isExcluded:!0};return}const a=e.record.fields[o];if(r.linkFields.includes(o)||n.linkFields.includes(o)){let h=Array.isArray(a)?[...a]:[];t.forEach(d=>{const m=d.record.fields[o];Array.isArray(m)&&m.forEach(v=>{h.includes(v)||h.push(v)})}),s[o]={strategy:te.MERGE_LINKS,value:h.length>0?h:null,include:h.length>0,survivorValue:a,mergedValues:t.map(d=>d.record.fields[o]),isLinkField:!0};return}if(r.concatenateFields.includes(o)){let h=[];Il(a)||h.push(String(a)),t.forEach(m=>{const v=m.record.fields[o];!Il(v)&&!h.includes(String(v))&&h.push(String(v))});const d=h.join(r.concatenateDelimiter);s[o]={strategy:te.CONCATENATE,value:d||null,include:!!d,survivorValue:a,mergedValues:t.map(m=>m.record.fields[o])};return}const c=[a,...t.map(h=>h.record.fields[o])].filter(h=>!Il(h));if(c.length===0){s[o]={strategy:te.AUTO,value:null,include:!1};return}if([...new Set(c.map(h=>JSON.stringify(h)))].length===1){s[o]={strategy:te.AUTO,value:c[0],include:!0,survivorValue:a};return}s[o]={strategy:te.MANUAL,value:null,include:!0,needsDecision:!0,survivorValue:a,mergedValues:t.map(h=>({recordId:h.record.id,name:h.name,value:h.record.fields[o]})),allValues:c}}),s}function sr(e){return Object.values(e).some(t=>t.needsDecision)}function lm(e){const t={fieldsToUpdate:[],fieldsKept:[],fieldsSkipped:[],linksAdded:0,valuesConcatenated:[],decisionsNeeded:[]};return Object.entries(e).forEach(([n,r])=>{if(r.isComputed||r.isExcluded){t.fieldsSkipped.push(n);return}if(r.needsDecision){t.decisionsNeeded.push(n);return}if(!r.include){t.fieldsSkipped.push(n);return}if(r.strategy===te.MERGE_LINKS){const s=Array.isArray(r.survivorValue)?r.survivorValue.length:0,l=Array.isArray(r.value)?r.value.length:0;l>s&&(t.linksAdded+=l-s,t.fieldsToUpdate.push(`${n} (+${l-s} links)`))}else r.strategy===te.CONCATENATE?(t.valuesConcatenated.push(n),t.fieldsToUpdate.push(n)):r.strategy===te.KEEP_B?t.fieldsToUpdate.push(`${n} (from merged record)`):r.strategy===te.AUTO?t.fieldsKept.push(n):t.fieldsToUpdate.push(n)}),t}function im({schema:e,onComplete:t,initialConfig:n,onLog:r}){var h;const[s,l]=C.useState(()=>({uniqueIdFields:(n==null?void 0:n.uniqueIdFields)||An.uniqueIdFields,nameFields:(n==null?void 0:n.nameFields)||An.nameFields,corroboratingFields:(n==null?void 0:n.corroboratingFields)||An.corroboratingFields,excludeFromMerge:(n==null?void 0:n.excludeFromMerge)||Vs.excludeFields,concatenateFields:(n==null?void 0:n.concatenateFields)||Vs.concatenateFields,linkFields:(n==null?void 0:n.linkFields)||(e==null?void 0:e.linkFields)||[],historyField:(n==null?void 0:n.historyField)||"dedupe_history"})),o=(e==null?void 0:e.writableFields)||[],a=e!=null&&e.allFields?Object.keys(e.allFields):[],u=(d,m)=>{l(v=>({...v,[d]:m}))},c=(d,m)=>{l(v=>{const k=v[d]||[];return k.includes(m)?{...v,[d]:k.filter(j=>j!==m)}:{...v,[d]:[...k,m]}})},f=()=>{try{localStorage.setItem("dedupe_field_config",JSON.stringify(s)),r&&r("Configuration saved","success")}catch{r&&r("Failed to save configuration","error")}t&&t(s)};return C.useEffect(()=>{try{const d=localStorage.getItem("dedupe_field_config");if(d){const m=JSON.parse(d);l(v=>({...v,...m}))}}catch{}},[]),i.jsx("div",{className:"config-panel",children:i.jsxs("div",{className:"config-card",children:[i.jsx("h2",{children:"Field Configuration"}),i.jsx("p",{className:"config-subtitle",children:"Configure how fields are used for duplicate detection and merging."}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Unique ID Fields (Tier 1 Match)"}),i.jsx("p",{className:"section-description",children:"Exact matches on these fields result in 100% confidence. Select fields that should uniquely identify a person."}),i.jsx("div",{className:"field-checkbox-grid",children:a.filter(d=>{var m;return!((m=e==null?void 0:e.linkFields)!=null&&m.includes(d))}).map(d=>{var m;return i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:s.uniqueIdFields.includes(d),onChange:()=>c("uniqueIdFields",d)}),i.jsx("span",{className:(m=e==null?void 0:e.computedFields)!=null&&m.includes(d)?"computed":"",children:d})]},d)})})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Name Fields (Fuzzy Match)"}),i.jsx("p",{className:"section-description",children:"These fields are used for fuzzy name matching with nickname recognition."}),i.jsx("div",{className:"field-checkbox-grid",children:a.filter(d=>{var m;return d.toLowerCase().includes("name")&&!((m=e==null?void 0:e.linkFields)!=null&&m.includes(d))}).map(d=>{var m;return i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:s.nameFields.includes(d),onChange:()=>c("nameFields",d)}),i.jsx("span",{className:(m=e==null?void 0:e.computedFields)!=null&&m.includes(d)?"computed":"",children:d})]},d)})})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Corroborating Fields"}),i.jsx("p",{className:"section-description",children:"Matches on these fields increase confidence when combined with name matches."}),i.jsx("div",{className:"field-checkbox-grid",children:a.filter(d=>{var m;return!((m=e==null?void 0:e.linkFields)!=null&&m.includes(d))&&!s.uniqueIdFields.includes(d)&&!s.nameFields.includes(d)}).map(d=>{var m;return i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:s.corroboratingFields.includes(d),onChange:()=>c("corroboratingFields",d)}),i.jsx("span",{className:(m=e==null?void 0:e.computedFields)!=null&&m.includes(d)?"computed":"",children:d})]},d)})})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Exclude from Merge"}),i.jsx("p",{className:"section-description",children:"These fields will NOT be merged. Use for fields that need manual handling (like Box folders)."}),i.jsx("div",{className:"field-checkbox-grid",children:o.map(d=>i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:s.excludeFromMerge.includes(d),onChange:()=>c("excludeFromMerge",d)}),i.jsx("span",{children:d})]},d))})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Concatenate on Merge"}),i.jsx("p",{className:"section-description",children:"These fields will have their values concatenated with a delimiter instead of picking one."}),i.jsx("div",{className:"field-checkbox-grid",children:o.filter(d=>{var m;return!((m=e==null?void 0:e.linkFields)!=null&&m.includes(d))}).map(d=>i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:s.concatenateFields.includes(d),onChange:()=>c("concatenateFields",d)}),i.jsx("span",{children:d})]},d))})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"History Field"}),i.jsx("p",{className:"section-description",children:"The field where merge history JSON will be stored. Must be a long text field."}),i.jsxs("select",{value:s.historyField,onChange:d=>u("historyField",d.target.value),className:"field-select",children:[i.jsx("option",{value:"",children:"-- Select Field --"}),o.filter(d=>{var m;return!((m=e==null?void 0:e.linkFields)!=null&&m.includes(d))}).map(d=>i.jsx("option",{value:d,children:d},d))]}),!s.historyField&&i.jsx("p",{className:"warning-text",children:"Warning: Without a history field, you won't be able to unmerge records."})]}),i.jsxs("section",{className:"config-section",children:[i.jsx("h3",{children:"Link Fields (Auto-detected)"}),i.jsx("p",{className:"section-description",children:"These fields link to other tables and will be merged by combining all linked records."}),i.jsxs("div",{className:"field-tag-list",children:[(h=e==null?void 0:e.linkFields)==null?void 0:h.map(d=>i.jsx("span",{className:"field-tag link",children:d},d)),(!(e!=null&&e.linkFields)||e.linkFields.length===0)&&i.jsx("span",{className:"no-fields",children:"No link fields detected"})]})]}),i.jsx("div",{className:"button-group",children:i.jsx("button",{className:"btn btn-success",onClick:f,children:"Save Configuration & Start Scanning"})})]})})}function om({candidates:e,schema:t,credentials:n,fieldConfig:r,onComplete:s,onCancel:l,onLog:o}){const[a,u]=C.useState("analyzing"),[c,f]=C.useState({current:0,total:0}),[h,d]=C.useState({successful:0,failed:0,skipped:0}),[m,v]=C.useState([]),[k,j]=C.useState([]),[g,p]=C.useState({}),[y,x]=C.useState([]),[w,E]=C.useState(0),N=(L,U="info")=>{o&&o(L,U)};C.useEffect(()=>{S()},[]);const S=()=>{u("analyzing");const L=[],U=[],V={};e.forEach(ee=>{const W=Dd(ee.survivor,[ee.merged],t,{...r,excludeFields:(r==null?void 0:r.excludeFromMerge)||[]});sr(W)?(U.push(ee),V[ee.id]=W):L.push({candidate:ee,resolutions:W})}),v(L),j(U),p(V),u("summary")},F=C.useCallback((L,U,V,ee)=>{p(W=>({...W,[L]:{...W[L],[U]:{...W[L][U],strategy:V,value:ee,needsDecision:!1,include:!0}}}))},[]),P=C.useCallback(L=>{const U=L?te.KEEP_A:te.KEEP_B;p(V=>{const ee={...V};return k.forEach(W=>{const se={...ee[W.id]};Object.entries(se).forEach(([Pe,R])=>{var O,J,de;if(R.needsDecision){const ke=L?R.survivorValue:((J=(O=R.mergedValues)==null?void 0:O[0])==null?void 0:J.value)||((de=R.allValues)==null?void 0:de[1]);se[Pe]={...R,strategy:U,value:ke,needsDecision:!1,include:!0}}}),ee[W.id]=se}),ee})},[k]),H=()=>{x(m),d(L=>({...L,skipped:k.length})),u("processing")},b=L=>{P(L),setTimeout(()=>{const U=[...m,...k.map(V=>({candidate:V,resolutions:g[V.id]}))];x(U),u("processing")},100)},q=()=>{k.length===0?(x(m),u("processing")):(E(0),u("conflicts"))},T=k[w],ne=T?g[T.id]:{},Y=C.useMemo(()=>ne?Object.entries(ne).filter(([L,U])=>U.needsDecision).map(([L,U])=>{var V,ee,W;return{fieldName:L,valueA:U.survivorValue,valueB:((ee=(V=U.mergedValues)==null?void 0:V[0])==null?void 0:ee.value)||((W=U.allValues)==null?void 0:W[1])}}):[],[ne]),ve=Y.length===0,M=()=>{if(w<k.length-1)E(L=>L+1);else{const L=[...m,...k.map(U=>({candidate:U,resolutions:g[U.id]}))];x(L),u("processing")}},$=()=>{if(d(L=>({...L,skipped:L.skipped+1})),w<k.length-1)E(L=>L+1);else{const L=k.filter((U,V)=>V!==w).filter(U=>!sr(g[U.id])).map(U=>({candidate:U,resolutions:g[U.id]}));x([...m,...L]),u("processing")}},D=()=>{const L=k.length-w;d(V=>({...V,skipped:V.skipped+L}));const U=k.slice(0,w).filter(V=>!sr(g[V.id])).map(V=>({candidate:V,resolutions:g[V.id]}));x([...m,...U]),u("processing")};C.useEffect(()=>{if(a!=="processing")return;(async()=>{const U=new Ve(n.apiKey,n.baseId),V=y.length>0?y:[...m,...k.filter(se=>!sr(g[se.id])).map(se=>({candidate:se,resolutions:g[se.id]}))];f({current:0,total:V.length});let ee=h.successful,W=h.failed;for(let se=0;se<V.length;se++){const{candidate:Pe,resolutions:R}=V[se];f({current:se+1,total:V.length});try{const O=Rd(Pe.survivor,[Pe.merged],R,t,{confidence:Pe.confidence,matchReasons:Pe.reasons,notes:"Bulk merge operation",performedBy:"user"});N(`Merging: ${Pe.survivor.name} <- ${Pe.merged.name}`,"info"),await U.updateRecord(n.tableName,Pe.survivor.record.id,O.updateFields);for(const J of O.recordsToDelete)await U.deleteRecord(n.tableName,J);ee++,N(`Merged successfully: ${O.mergeId}`,"success")}catch(O){W++,N(`Failed to merge ${Pe.survivor.name}: ${O.message}`,"error")}}d({successful:ee,failed:W,skipped:h.skipped}),u("complete")})()},[a]);const G=()=>{switch(a){case"analyzing":return i.jsxs("div",{className:"bulk-merge-analyzing",children:[i.jsx("div",{className:"loading-spinner",children:i.jsx("div",{className:"spinner"})}),i.jsxs("p",{children:["Analyzing ",e.length," candidates..."]})]});case"summary":return i.jsxs("div",{className:"bulk-merge-summary",children:[i.jsxs("div",{className:"summary-stats",children:[i.jsxs("div",{className:"summary-stat auto-merge",children:[i.jsx("div",{className:"stat-number",children:m.length}),i.jsx("div",{className:"stat-label",children:"Auto-Mergeable"}),i.jsx("div",{className:"stat-desc",children:"No conflicts, ready to merge"})]}),i.jsxs("div",{className:"summary-stat conflicts",children:[i.jsx("div",{className:"stat-number",children:k.length}),i.jsx("div",{className:"stat-label",children:"Need Decisions"}),i.jsx("div",{className:"stat-desc",children:"Have conflicting field values"})]})]}),i.jsxs("div",{className:"summary-actions",children:[i.jsx("h3",{children:"Choose how to proceed:"}),m.length>0&&i.jsxs("div",{className:"action-option primary-action",children:[i.jsxs("button",{className:"btn btn-success btn-large",onClick:H,children:["Merge Auto-Only (",m.length,")"]}),i.jsx("span",{className:"action-desc",children:"Process only conflict-free candidates, skip the rest"})]}),k.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"action-divider",children:i.jsx("span",{children:"Or resolve conflicts:"})}),i.jsxs("div",{className:"action-option",children:[i.jsx("button",{className:"btn btn-primary",onClick:()=>b(!0),children:"Keep Survivor Values (A)"}),i.jsx("span",{className:"action-desc",children:`For all conflicts, prefer the "Keep" record's values`})]}),i.jsxs("div",{className:"action-option",children:[i.jsx("button",{className:"btn btn-primary",onClick:()=>b(!1),children:"Keep Merged Values (B)"}),i.jsx("span",{className:"action-desc",children:`For all conflicts, prefer the "Merge" record's values`})]}),i.jsxs("div",{className:"action-option secondary",children:[i.jsx("button",{className:"btn btn-secondary",onClick:q,children:"Resolve Individually"}),i.jsx("span",{className:"action-desc",children:"Review each conflict one at a time"})]})]}),m.length===0&&k.length===0&&i.jsx("div",{className:"no-candidates",children:i.jsx("p",{children:"No candidates to merge."})})]})]});case"conflicts":return i.jsxs("div",{className:"bulk-merge-conflicts",children:[i.jsxs("div",{className:"conflict-progress",children:[i.jsxs("span",{children:["Resolving conflicts: ",w+1," of ",k.length]}),i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-fill",style:{width:`${(w+1)/k.length*100}%`}})})]}),m.length>0&&i.jsxs("div",{className:"auto-merge-info",children:[m.length," candidates will be auto-merged (no conflicts)"]}),T&&i.jsxs("div",{className:"conflict-resolution",children:[i.jsxs("div",{className:"conflict-header",children:[i.jsxs("div",{className:"conflict-records",children:[i.jsx("span",{className:"record-a",children:T.survivor.name}),i.jsx("span",{className:"merge-arrow",children:"+"}),i.jsx("span",{className:"record-b",children:T.merged.name})]}),i.jsxs("span",{className:"confidence-badge",style:{backgroundColor:T.tier.color},children:[T.confidence,"%"]})]}),i.jsxs("div",{className:"conflict-fields",children:[i.jsx("h4",{children:"Choose value for each conflicting field:"}),Y.map(({fieldName:L,valueA:U,valueB:V})=>{var ee,W;return i.jsxs("div",{className:"conflict-field",children:[i.jsx("div",{className:"field-name",children:L}),i.jsxs("div",{className:"field-choices",children:[i.jsxs("button",{className:`choice-btn ${((ee=ne[L])==null?void 0:ee.strategy)===te.KEEP_A?"selected":""}`,onClick:()=>F(T.id,L,te.KEEP_A,U),children:[i.jsx("span",{className:"choice-label",children:"A"}),i.jsx("span",{className:"choice-value",children:su(U)})]}),i.jsxs("button",{className:`choice-btn ${((W=ne[L])==null?void 0:W.strategy)===te.KEEP_B?"selected":""}`,onClick:()=>F(T.id,L,te.KEEP_B,V),children:[i.jsx("span",{className:"choice-label",children:"B"}),i.jsx("span",{className:"choice-value",children:su(V)})]})]})]},L)})]}),i.jsxs("div",{className:"conflict-actions",children:[i.jsxs("div",{className:"conflict-actions-left",children:[i.jsx("button",{className:"btn btn-secondary btn-small",onClick:$,children:"Skip This"}),w<k.length-1&&i.jsxs("button",{className:"btn btn-secondary btn-small",onClick:D,children:["Skip All Remaining (",k.length-w,")"]})]}),i.jsx("button",{className:"btn btn-success",onClick:M,disabled:!ve,children:w<k.length-1?"Next":"Start Merging"})]})]})]});case"processing":return i.jsxs("div",{className:"bulk-merge-processing",children:[i.jsx("div",{className:"loading-spinner",children:i.jsx("div",{className:"spinner"})}),i.jsx("p",{children:"Processing merges..."}),i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:"progress-fill",style:{width:`${c.total?c.current/c.total*100:0}%`}})}),i.jsxs("p",{className:"progress-text",children:[c.current," of ",c.total," completed"]})]});case"complete":return i.jsxs("div",{className:"bulk-merge-complete",children:[i.jsx("div",{className:"complete-icon",children:h.failed===0?"":""}),i.jsx("h3",{children:"Bulk Merge Complete"}),i.jsxs("div",{className:"results-summary",children:[i.jsxs("div",{className:"result-item success",children:[i.jsx("span",{className:"result-count",children:h.successful}),i.jsx("span",{className:"result-label",children:"Successful"})]}),h.failed>0&&i.jsxs("div",{className:"result-item failed",children:[i.jsx("span",{className:"result-count",children:h.failed}),i.jsx("span",{className:"result-label",children:"Failed"})]}),h.skipped>0&&i.jsxs("div",{className:"result-item skipped",children:[i.jsx("span",{className:"result-count",children:h.skipped}),i.jsx("span",{className:"result-label",children:"Skipped"})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:()=>s(h),children:"Done"})]});default:return null}};return i.jsx("div",{className:"modal-overlay",children:i.jsxs("div",{className:"modal-content bulk-merge-modal",children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Bulk Merge"}),a!=="processing"&&a!=="complete"&&i.jsx("button",{className:"modal-close",onClick:l,children:""})]}),i.jsx("div",{className:"modal-body",children:G()})]})})}function su(e){if(e==null)return"(empty)";if(typeof e=="boolean")return e?"Yes":"No";if(Array.isArray(e))return e.length===0?"(empty)":e.length<=3?e.join(", "):`${e.slice(0,3).join(", ")} +${e.length-3} more`;if(typeof e=="object")return JSON.stringify(e);const t=String(e);return t.length>50?t.slice(0,50)+"...":t}const Zn=300;function am({credentials:e,schema:t,fieldConfig:n,onSelectCandidate:r,onResyncReady:s,onLog:l}){const[o,a]=C.useState(!1),[u,c]=C.useState(!1),[f,h]=C.useState([]),[d,m]=C.useState([]),[v,k]=C.useState([]),[j,g]=C.useState({phase:"",current:0,total:0,hasMore:!1,delay:200}),[p,y]=C.useState(new Set),[x,w]=C.useState(!1),[E,N]=C.useState(Zn),[S,F]=C.useState(!1),[P,H]=C.useState("all"),[b,q]=C.useState(""),[T,ne]=C.useState("confidence"),Y=C.useRef([]),ve=C.useRef(null),M=(A,B="info")=>{l&&l(A,B)},$=async()=>{a(!0),N(Zn),g({phase:"Fetching records",current:0,total:0,hasMore:!0,delay:200}),h([]),m([]),k([]),Y.current=[];try{const A=new Ve(e.apiKey,e.baseId);M("Fetching all records...","info");const B=await A.getAllRecords(e.tableName,{onRecords:(he,Io)=>{Y.current=Io,h([...Io])},onProgress:he=>{g({phase:"Fetching records",current:he.total,total:he.hasMore?null:he.total,hasMore:he.hasMore,delay:he.delay})}});M(`Fetched ${B.length} records`,"success"),M("Analyzing for duplicates...","info"),g({phase:"Finding duplicates",current:0,total:B.length,hasMore:!1,delay:200});const K=tu(B,n,he=>{g({phase:he.phase==="matching"?"Comparing records":"Fuzzy matching",current:he.current,total:he.total,hasMore:!1,delay:200})});m(K),M(`Found ${K.length} potential duplicate pairs`,"success");const Ge=nu(K);k(Ge),M(`Organized into ${Ge.length} merge groups`,"info");const tt={1:K.filter(he=>he.tier.tier===1).length,2:K.filter(he=>he.tier.tier===2).length,3:K.filter(he=>he.tier.tier===3).length,4:K.filter(he=>he.tier.tier===4).length};M(`Tier 1 (Definitive): ${tt[1]}`,tt[1]>0?"success":"info"),M(`Tier 2 (Strong): ${tt[2]}`,tt[2]>0?"warning":"info"),M(`Tier 3 (Possible): ${tt[3]}`,tt[3]>0?"warning":"info"),M(`Tier 4 (Conflicts): ${tt[4]}`,tt[4]>0?"error":"info")}catch(A){M(`Scan failed: ${A.message}`,"error")}finally{a(!1)}};ve.current=async()=>{if(o||u){M("Resync skipped - scan already in progress","info");return}if(Y.current.length===0){M("Resync skipped - no records loaded yet","info");return}c(!0);try{const A=new Ve(e.apiKey,e.baseId);M("Background resync: Fetching records...","info");const B=await A.getAllRecords(e.tableName,{onRecords:(tt,he)=>{Y.current=he,h([...he])}});M(`Background resync: Fetched ${B.length} records`,"success"),M("Background resync: Analyzing for duplicates...","info");const K=tu(B,n);m(K),M(`Background resync: Found ${K.length} potential duplicates`,"success");const Ge=nu(K);k(Ge),M("Background resync completed","success")}catch(A){M(`Background resync failed: ${A.message}`,"error")}finally{c(!1)}},C.useEffect(()=>{s&&s(()=>{ve.current&&ve.current()})},[s]),C.useEffect(()=>{N(Zn)},[P,b,T]);const D=C.useMemo(()=>{let A=[...d];if(P!=="all"){const B=parseInt(P);A=A.filter(K=>K.tier.tier===B)}if(b.trim()){const B=b.toLowerCase();A=A.filter(K=>K.survivor.name.toLowerCase().includes(B)||K.merged.name.toLowerCase().includes(B)||K.survivor.record.id.toLowerCase().includes(B)||K.merged.record.id.toLowerCase().includes(B))}switch(T){case"confidence":A.sort((B,K)=>K.confidence-B.confidence);break;case"tier":A.sort((B,K)=>B.tier.tier-K.tier.tier||K.confidence-B.confidence);break;case"name":A.sort((B,K)=>B.survivor.name.localeCompare(K.survivor.name));break}return A},[d,P,b,T]),G=C.useMemo(()=>D.slice(0,E),[D,E]),L=E<D.length,U=()=>{F(!0),setTimeout(()=>{N(A=>A+Zn),F(!1)},300)},V=(A,B)=>{B.stopPropagation(),y(K=>{const Ge=new Set(K);return Ge.has(A)?Ge.delete(A):Ge.add(A),Ge})},ee=()=>{const A=new Set(G.map(B=>B.id));y(A)},W=()=>{y(new Set)},se=A=>{const B=new Set(G.filter(K=>K.tier.tier===A).map(K=>K.id));y(K=>{const Ge=new Set(K);return B.forEach(tt=>Ge.add(tt)),Ge})},Pe=()=>{const A=new Set(G.filter(B=>B.tier.tier<=2&&!B.isConflict).map(B=>B.id));y(A)},R=G.length>0&&G.every(A=>p.has(A.id)),O=C.useMemo(()=>d.filter(A=>p.has(A.id)),[d,p]),J=C.useMemo(()=>G.filter(A=>A.tier.tier<=2&&!A.isConflict).length,[G]),de=A=>{M(`Bulk merge completed: ${A.successful} successful, ${A.failed} failed`,A.failed>0?"warning":"success"),w(!1),y(new Set),ve.current&&ve.current()},ke=()=>{w(!1)},Me=C.useMemo(()=>({total:f.length,candidates:d.length,groups:v.length,byTier:{1:d.filter(A=>A.tier.tier===1).length,2:d.filter(A=>A.tier.tier===2).length,3:d.filter(A=>A.tier.tier===3).length,4:d.filter(A=>A.tier.tier===4).length}}),[f,d,v]);return i.jsxs("div",{className:"scan-results",children:[i.jsxs("div",{className:"scan-header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Duplicate Scanner"}),i.jsxs("p",{className:"subtitle",children:[f.length>0?`Analyzing ${f.length} records`:"Click scan to analyze your records",u&&i.jsxs("span",{className:"background-sync-indicator",children:[i.jsx("span",{className:"sync-spinner"}),"Syncing..."]})]})]}),i.jsx("button",{className:"btn btn-primary",onClick:$,disabled:o||u,children:o?"Scanning...":u?"Syncing...":f.length>0?"Re-scan":"Start Scan"})]}),o&&i.jsxs("div",{className:"loading-container",children:[i.jsx("div",{className:"loading-spinner",children:i.jsx("div",{className:"spinner"})}),i.jsxs("div",{className:"loading-details",children:[i.jsx("p",{className:"loading-phase",children:j.phase}),i.jsx("div",{className:"progress-bar",children:i.jsx("div",{className:`progress-fill ${j.hasMore?"streaming":""}`,style:{width:j.total&&typeof j.total=="number"?`${j.current/j.total*100}%`:"100%"}})}),i.jsxs("p",{className:"progress-text",children:[j.current.toLocaleString(),j.total!==null?` / ${j.total.toLocaleString()}`:" records loaded",j.hasMore&&" (fetching more...)"]}),j.delay>200&&i.jsxs("p",{className:"rate-limit-notice",children:["Rate limit adjusted: ",j.delay,"ms delay"]})]})]}),o&&f.length>0&&j.phase==="Fetching records"&&i.jsxs("div",{className:"streaming-preview",children:[i.jsxs("div",{className:"streaming-header",children:[i.jsxs("span",{className:"streaming-count",children:[f.length.toLocaleString()," records loaded"]}),i.jsxs("span",{className:"streaming-indicator",children:[i.jsx("span",{className:"pulse-dot"}),"Loading..."]})]}),i.jsx("div",{className:"streaming-sample",children:f.slice(-5).map(A=>i.jsxs("div",{className:"streaming-record",children:[i.jsx("span",{className:"record-id",children:A.id}),i.jsx("span",{className:"record-preview",children:Object.values(A.fields).slice(0,2).map((B,K)=>i.jsxs("span",{className:"field-value",children:[typeof B=="string"?B.substring(0,30):JSON.stringify(B).substring(0,30),typeof B=="string"&&B.length>30?"...":""]},K))})]},A.id))})]}),d.length>0&&i.jsxs("div",{className:"stats-grid",children:[i.jsxs("div",{className:"stat-card",children:[i.jsx("div",{className:"stat-number",children:Me.total}),i.jsx("div",{className:"stat-label",children:"Total Records"})]}),i.jsxs("div",{className:"stat-card tier-1",children:[i.jsx("div",{className:"stat-number",children:Me.byTier[1]}),i.jsx("div",{className:"stat-label",children:"Definitive"})]}),i.jsxs("div",{className:"stat-card tier-2",children:[i.jsx("div",{className:"stat-number",children:Me.byTier[2]}),i.jsx("div",{className:"stat-label",children:"Strong"})]}),i.jsxs("div",{className:"stat-card tier-3",children:[i.jsx("div",{className:"stat-number",children:Me.byTier[3]}),i.jsx("div",{className:"stat-label",children:"Possible"})]}),i.jsxs("div",{className:"stat-card tier-4",children:[i.jsx("div",{className:"stat-number",children:Me.byTier[4]}),i.jsx("div",{className:"stat-label",children:"Conflicts"})]})]}),d.length>0&&i.jsxs("div",{className:"filter-bar",children:[i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Tier:"}),i.jsxs("select",{value:P,onChange:A=>H(A.target.value),children:[i.jsx("option",{value:"all",children:"All Tiers"}),i.jsx("option",{value:"1",children:"Tier 1 - Definitive"}),i.jsx("option",{value:"2",children:"Tier 2 - Strong"}),i.jsx("option",{value:"3",children:"Tier 3 - Possible"}),i.jsx("option",{value:"4",children:"Tier 4 - Conflicts"})]})]}),i.jsxs("div",{className:"filter-group",children:[i.jsx("label",{children:"Sort:"}),i.jsxs("select",{value:T,onChange:A=>ne(A.target.value),children:[i.jsx("option",{value:"confidence",children:"Confidence (High  Low)"}),i.jsx("option",{value:"tier",children:"Tier (Best  Worst)"}),i.jsx("option",{value:"name",children:"Name (A  Z)"})]})]}),i.jsx("div",{className:"filter-group search",children:i.jsx("input",{type:"text",placeholder:"Search by name or ID...",value:b,onChange:A=>q(A.target.value)})})]}),d.length>0&&i.jsxs("div",{className:"quick-select-bar",children:[i.jsx("span",{className:"quick-select-label",children:"Quick Select:"}),i.jsxs("div",{className:"quick-select-buttons",children:[J>0&&i.jsxs("button",{className:"btn btn-small btn-auto-merge",onClick:Pe,title:"Select candidates that can be merged automatically (Tier 1 & 2, no conflicts)",children:["Auto-Mergeable (",J,")"]}),Me.byTier[1]>0&&i.jsxs("button",{className:"btn btn-small tier-1-btn",onClick:()=>se(1),children:["+ Tier 1 (",Me.byTier[1],")"]}),Me.byTier[2]>0&&i.jsxs("button",{className:"btn btn-small tier-2-btn",onClick:()=>se(2),children:["+ Tier 2 (",Me.byTier[2],")"]}),Me.byTier[3]>0&&i.jsxs("button",{className:"btn btn-small tier-3-btn",onClick:()=>se(3),children:["+ Tier 3 (",Me.byTier[3],")"]})]})]}),p.size>0&&i.jsxs("div",{className:"bulk-action-bar",children:[i.jsxs("div",{className:"bulk-info",children:[i.jsx("span",{className:"bulk-count",children:p.size})," selected"]}),i.jsxs("div",{className:"bulk-actions",children:[i.jsx("button",{className:"btn btn-secondary btn-small",onClick:W,children:"Clear Selection"}),i.jsxs("button",{className:"btn btn-success",onClick:()=>w(!0),children:["Bulk Merge (",p.size,")"]})]})]}),D.length>0&&i.jsxs("div",{className:"candidate-list",children:[i.jsxs("div",{className:"list-header",children:[i.jsxs("label",{className:"select-all-checkbox",onClick:A=>A.stopPropagation(),children:[i.jsx("input",{type:"checkbox",checked:R,onChange:()=>R?W():ee()}),i.jsx("span",{children:"Select All"})]}),i.jsxs("span",{children:["Showing ",G.length.toLocaleString()," of ",D.length.toLocaleString()," matches",D.length!==d.length&&` (${d.length.toLocaleString()} total)`]})]}),G.map(A=>i.jsxs("div",{className:`candidate-row tier-${A.tier.tier} ${A.isConflict?"conflict":""} ${p.has(A.id)?"selected":""}`,onClick:()=>r&&r(A),children:[i.jsx("div",{className:"candidate-checkbox",onClick:B=>V(A.id,B),children:i.jsx("input",{type:"checkbox",checked:p.has(A.id),onChange:()=>{}})}),i.jsxs("div",{className:"candidate-tier",children:[i.jsxs("span",{className:"tier-badge",style:{backgroundColor:A.tier.color},children:[A.confidence,"%"]}),i.jsx("span",{className:"tier-name",children:A.tier.name})]}),i.jsxs("div",{className:"candidate-records",children:[i.jsxs("div",{className:"record-info survivor",children:[i.jsx("span",{className:"record-label",children:"Keep:"}),i.jsx("span",{className:"record-name",children:A.survivor.name}),i.jsxs("span",{className:"record-score",children:["Score: ",A.survivor.score]})]}),i.jsx("div",{className:"merge-arrow",children:""}),i.jsxs("div",{className:"record-info merged",children:[i.jsx("span",{className:"record-label",children:"Merge:"}),i.jsx("span",{className:"record-name",children:A.merged.name}),i.jsxs("span",{className:"record-score",children:["Score: ",A.merged.score]})]})]}),i.jsxs("div",{className:"candidate-reasons",children:[A.reasons.slice(0,3).map((B,K)=>i.jsx("span",{className:"reason-tag",children:B},K)),A.reasons.length>3&&i.jsxs("span",{className:"reason-more",children:["+",A.reasons.length-3," more"]})]}),A.conflicts&&A.conflicts.length>0&&i.jsx("div",{className:"candidate-conflicts",children:A.conflicts.map((B,K)=>i.jsx("span",{className:"conflict-tag",children:B},K))}),i.jsx("div",{className:"candidate-action",children:i.jsx("button",{className:"btn btn-small btn-primary",children:"Review "})})]},A.id)),L&&i.jsxs("div",{className:"load-more-container",children:[i.jsx("button",{className:"btn btn-secondary load-more-btn",onClick:U,disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"btn-spinner"}),"Loading..."]}):`Load More (${Math.min(Zn,D.length-E).toLocaleString()} more)`}),i.jsxs("span",{className:"load-more-info",children:[(D.length-E).toLocaleString()," remaining"]})]})]}),!o&&f.length>0&&d.length===0&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:""}),i.jsx("h3",{children:"No Duplicates Found"}),i.jsxs("p",{children:["All ",f.length," records appear to be unique."]})]}),!o&&f.length===0&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:""}),i.jsx("h3",{children:"Ready to Scan"}),i.jsx("p",{children:'Click "Start Scan" to analyze your records for duplicates.'})]}),x&&i.jsx(om,{candidates:O,schema:t,credentials:e,fieldConfig:n,onComplete:de,onCancel:ke,onLog:M})]})}function um({candidate:e,schema:t,credentials:n,fieldConfig:r,onComplete:s,onSkip:l,onMarkNotDuplicate:o,onLog:a}){const[u,c]=C.useState({}),[f,h]=C.useState(!1),[d,m]=C.useState(""),[v,k]=C.useState(new Set),j=(S,F="info")=>{a&&a(S,F)};C.useEffect(()=>{if(!e||!t)return;const S=e.survivor,F=[e.merged],P=Dd(S,F,t,{...r,excludeFields:(r==null?void 0:r.excludeFromMerge)||[]});c(P)},[e,t,r]);const g=C.useMemo(()=>Object.entries(u).filter(([S,F])=>F.needsDecision).map(([S])=>S),[u]),p=C.useMemo(()=>lm(u),[u]),y=C.useCallback((S,F,P)=>{c(H=>({...H,[S]:{...H[S],strategy:F,value:P,needsDecision:!1,include:!0}}))},[]),x=async()=>{if(sr(u)){j("Please resolve all field conflicts before merging","error");return}h(!0);try{const S=new Ve(n.apiKey,n.baseId),F=Rd(e.survivor,[e.merged],u,t,{confidence:e.confidence,matchReasons:e.reasons,notes:d,performedBy:"user"});j(`Executing merge ${F.mergeId}...`,"info"),j("Updating survivor record...","info"),await S.updateRecord(n.tableName,e.survivor.record.id,F.updateFields),j("Survivor record updated","success"),j("Deleting merged record...","info");for(const P of F.recordsToDelete)await S.deleteRecord(n.tableName,P);j(`Deleted ${F.recordsToDelete.length} record(s)`,"success"),j(`Merge ${F.mergeId} completed successfully!`,"success"),s&&s(F)}catch(S){j(`Merge failed: ${S.message}`,"error")}finally{h(!1)}};if(C.useEffect(()=>{const S=F=>{F.target.tagName==="INPUT"||F.target.tagName==="TEXTAREA"||(F.key==="Enter"&&!F.shiftKey&&g.length===0?x():F.key==="Escape"&&l&&l())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[g,x,l]),!e)return i.jsx("div",{className:"merge-review empty",children:"Select a candidate to review"});const w=e.survivor.record.fields,E=e.merged.record.fields,N=C.useMemo(()=>{const S=new Set([...Object.keys(w),...Object.keys(E)]);return Array.from(S).sort()},[w,E]);return i.jsxs("div",{className:"merge-review",children:[i.jsxs("div",{className:"merge-header",children:[i.jsxs("div",{className:"match-info",children:[i.jsxs("span",{className:"confidence-badge",style:{backgroundColor:e.tier.color},children:[e.confidence,"%"]}),i.jsxs("span",{className:"tier-label",children:[e.tier.name," Match"]})]}),i.jsx("div",{className:"match-reasons",children:e.reasons.map((S,F)=>i.jsx("span",{className:"reason-badge",children:S},F))})]}),e.conflicts&&e.conflicts.length>0&&i.jsxs("div",{className:"conflicts-warning",children:[i.jsx("strong",{children:" Data Conflicts Detected:"}),i.jsx("ul",{children:e.conflicts.map((S,F)=>i.jsx("li",{children:S},F))})]}),i.jsxs("div",{className:"record-headers",children:[i.jsxs("div",{className:"record-header survivor",children:[i.jsxs("div",{className:"record-title",children:[i.jsx("span",{className:"record-badge keep",children:"KEEP"}),i.jsx("span",{className:"record-name",children:e.survivor.name})]}),i.jsxs("div",{className:"record-meta",children:[i.jsxs("span",{children:["Score: ",e.survivor.score]}),i.jsxs("span",{children:["ID: ",e.survivor.record.id]})]})]}),i.jsxs("div",{className:"record-header merged",children:[i.jsxs("div",{className:"record-title",children:[i.jsx("span",{className:"record-badge merge",children:"MERGE"}),i.jsx("span",{className:"record-name",children:e.merged.name})]}),i.jsxs("div",{className:"record-meta",children:[i.jsxs("span",{children:["Score: ",e.merged.score]}),i.jsxs("span",{children:["ID: ",e.merged.record.id]})]})]})]}),i.jsx("div",{className:"field-diff-container",children:i.jsxs("table",{className:"field-diff-table",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"field-name-col",children:"Field"}),i.jsx("th",{className:"field-value-col",children:"Record A (Keep)"}),i.jsx("th",{className:"field-value-col",children:"Record B (Merge)"}),i.jsx("th",{className:"field-action-col",children:"Resolution"})]})}),i.jsx("tbody",{children:N.map(S=>{const F=u[S]||{},P=w[S],H=E[S],b=F.isComputed,q=F.isExcluded,T=F.needsDecision;v.has(S);const ne=lu(P),Y=lu(H),ve=JSON.stringify(P)===JSON.stringify(H);return i.jsxs("tr",{className:`
                    ${b?"computed":""}
                    ${q?"excluded":""}
                    ${T?"needs-decision":""}
                    ${ve?"values-match":"values-differ"}
                  `,children:[i.jsxs("td",{className:"field-name",children:[i.jsx("span",{children:S}),b&&i.jsx("span",{className:"field-badge computed",children:"computed"}),q&&i.jsx("span",{className:"field-badge excluded",children:"excluded"}),F.isLinkField&&i.jsx("span",{className:"field-badge link",children:"link"})]}),i.jsx("td",{className:"field-value",children:i.jsx("div",{className:`value-cell ${F.strategy===te.KEEP_A?"selected":""}`,onClick:()=>!b&&!q&&T&&y(S,te.KEEP_A,P),children:ne||i.jsx("span",{className:"empty-value",children:"(empty)"})})}),i.jsx("td",{className:"field-value",children:i.jsx("div",{className:`value-cell ${F.strategy===te.KEEP_B?"selected":""}`,onClick:()=>!b&&!q&&T&&y(S,te.KEEP_B,H),children:Y||i.jsx("span",{className:"empty-value",children:"(empty)"})})}),i.jsx("td",{className:"field-action",children:b?i.jsx("span",{className:"resolution-auto",children:"Read-only"}):q?i.jsx("span",{className:"resolution-excluded",children:"Excluded"}):T?i.jsxs("div",{className:"decision-buttons",children:[i.jsx("button",{className:`btn-pick ${F.strategy===te.KEEP_A?"active":""}`,onClick:()=>y(S,te.KEEP_A,P),children:"A"}),i.jsx("button",{className:`btn-pick ${F.strategy===te.KEEP_B?"active":""}`,onClick:()=>y(S,te.KEEP_B,H),children:"B"})]}):F.strategy===te.AUTO?i.jsx("span",{className:"resolution-auto",children:"Auto"}):F.strategy===te.MERGE_LINKS?i.jsxs("span",{className:"resolution-merge",children:["Merge (",Array.isArray(F.value)?F.value.length:0," links)"]}):F.strategy===te.CONCATENATE?i.jsx("span",{className:"resolution-concat",children:"Concat"}):F.strategy===te.KEEP_A?i.jsx("span",{className:"resolution-keep-a",children:" A"}):F.strategy===te.KEEP_B?i.jsx("span",{className:"resolution-keep-b",children:"B "}):i.jsx("span",{className:"resolution-auto",children:""})})]},S)})})]})}),i.jsxs("div",{className:"merge-summary",children:[i.jsx("h4",{children:"Merge Summary"}),i.jsxs("div",{className:"summary-grid",children:[p.fieldsToUpdate.length>0&&i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{className:"summary-label",children:"Fields to update:"}),i.jsx("span",{className:"summary-value",children:p.fieldsToUpdate.length})]}),p.linksAdded>0&&i.jsxs("div",{className:"summary-item",children:[i.jsx("span",{className:"summary-label",children:"Links to add:"}),i.jsx("span",{className:"summary-value",children:p.linksAdded})]}),p.decisionsNeeded.length>0&&i.jsxs("div",{className:"summary-item warning",children:[i.jsx("span",{className:"summary-label",children:"Decisions needed:"}),i.jsx("span",{className:"summary-value",children:p.decisionsNeeded.length})]})]})]}),i.jsxs("div",{className:"merge-notes",children:[i.jsx("label",{htmlFor:"merge-notes",children:"Notes (optional):"}),i.jsx("textarea",{id:"merge-notes",value:d,onChange:S=>m(S.target.value),placeholder:"Add any notes about this merge decision...",rows:2})]}),i.jsxs("div",{className:"merge-actions",children:[i.jsx("button",{className:"btn btn-secondary",onClick:l,disabled:f,children:"Skip (Esc)"}),i.jsx("button",{className:"btn btn-warning",onClick:o,disabled:f,children:"Not a Duplicate"}),i.jsx("button",{className:"btn btn-success",onClick:x,disabled:f||g.length>0,children:f?"Merging...":"Merge Records (Enter)"})]}),g.length>0&&i.jsxs("div",{className:"decisions-reminder",children:["Please select a value for: ",g.join(", ")]})]})}function lu(e){if(e==null)return null;if(typeof e=="boolean")return e?"Yes":"No";if(Array.isArray(e))return e.length===0?null:e.length<=3?e.join(", "):`${e.slice(0,3).join(", ")} +${e.length-3} more`;if(typeof e=="object")return JSON.stringify(e);const t=String(e);return t.length>100?t.slice(0,100)+"...":t}function cm({credentials:e,schema:t,onUnmerge:n,onLog:r}){const[s,l]=C.useState(""),[o,a]=C.useState([]),[u,c]=C.useState(null),[f,h]=C.useState([]),[d,m]=C.useState(!1),[v,k]=C.useState(!1),[j,g]=C.useState([]),[p,y]=C.useState(!0),x=(N,S="info")=>{r&&r(N,S)};C.useEffect(()=>{(async()=>{y(!0);try{const H=(await new Ve(e.apiKey,e.baseId).getAllRecords(e.tableName,{filterFormula:'AND(dedupe_history != "", dedupe_history != "[]")',fields:["Client Name","PPID","dedupe_history","First Name","Family Name"]})).map(b=>{const q=Tn(b.fields.dedupe_history),T=q.length>0?q[q.length-1]:null;return{...b,parsedHistory:q,latestTimestamp:T?new Date(T.timestamp):new Date(0)}}).filter(b=>b.parsedHistory.length>0).sort((b,q)=>q.latestTimestamp-b.latestTimestamp);g(H),H.length>0&&x(`Found ${H.length} record(s) with merge history`,"success")}catch(S){x(`Failed to load merge history: ${S.message}`,"error")}finally{y(!1)}})()},[e]);const w=async()=>{if(s.trim()){k(!0),a([]);try{const N=new Ve(e.apiKey,e.baseId),S=`OR(
        FIND(LOWER("${s.toLowerCase()}"), LOWER({Client Name})),
        FIND("${s}", {PPID}),
        RECORD_ID() = "${s}"
      )`,F=await N.getAllRecords(e.tableName,{filterFormula:S,fields:["Client Name","PPID","dedupe_history","First Name","Family Name"]});a(F),F.length===0?x("No records found matching your search","warning"):x(`Found ${F.length} matching records`,"success")}catch(N){x(`Search failed: ${N.message}`,"error")}finally{k(!1)}}},E=async N=>{c(N);const S=Tn(N.fields.dedupe_history);h(S),S.length===0?x("No merge history for this record","info"):x(`Found ${S.length} merge event(s)`,"success")};return C.useEffect(()=>{const N=S=>{S.key==="Enter"&&S.target.type==="text"&&w()};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[s]),i.jsxs("div",{className:"history-viewer",children:[i.jsx("h2",{children:"Merge History"}),i.jsx("p",{className:"subtitle",children:"Search for a record to view its merge history and restore previously merged records."}),i.jsxs("div",{className:"search-bar",children:[i.jsx("input",{type:"text",value:s,onChange:N=>l(N.target.value),placeholder:"Search by name, PPID, or record ID..."}),i.jsx("button",{className:"btn btn-primary",onClick:w,disabled:v||!s.trim(),children:v?"Searching...":"Search"})]}),!u&&i.jsxs("div",{className:"auto-loaded-history",children:[i.jsx("h3",{children:"Records with Merge History"}),p?i.jsxs("div",{className:"loading-history",children:[i.jsx("div",{className:"loading-spinner"}),i.jsx("span",{children:"Loading merge history..."})]}):j.length===0?i.jsxs("div",{className:"no-history",children:[i.jsx("p",{children:"No records with merge history found."}),i.jsx("p",{className:"subtle",children:"Once you merge records, they will appear here for easy access."})]}):i.jsx("div",{className:"history-record-list",children:j.map(N=>{const S=N.parsedHistory[N.parsedHistory.length-1],F=N.parsedHistory.length,P=N.parsedHistory.filter(H=>H.action==="merge").length;return i.jsxs("div",{className:"history-record-item",onClick:()=>E(N),children:[i.jsxs("div",{className:"record-main",children:[i.jsx("div",{className:"record-name",children:N.fields["Client Name"]||`${N.fields["First Name"]||""} ${N.fields["Family Name"]||""}`.trim()||N.id}),i.jsxs("div",{className:"record-stats",children:[i.jsxs("span",{className:"event-count",children:[F," event",F!==1?"s":""]}),i.jsxs("span",{className:"merge-count",children:[P," merge",P!==1?"s":""]})]})]}),i.jsxs("div",{className:"record-meta",children:[N.fields.PPID&&i.jsxs("span",{children:["PPID: ",N.fields.PPID]}),i.jsxs("span",{className:"last-activity",children:["Last: ",new Date(S.timestamp).toLocaleDateString()]})]})]},N.id)})})]}),o.length>0&&i.jsxs("div",{className:"search-results",children:[i.jsxs("h3",{children:["Search Results (",o.length,")"]}),i.jsx("div",{className:"result-list",children:o.map(N=>{const S=N.fields.dedupe_history&&Tn(N.fields.dedupe_history).length>0;return i.jsxs("div",{className:`result-item ${(u==null?void 0:u.id)===N.id?"selected":""}`,onClick:()=>E(N),children:[i.jsx("div",{className:"result-name",children:N.fields["Client Name"]||`${N.fields["First Name"]||""} ${N.fields["Family Name"]||""}`.trim()||N.id}),i.jsxs("div",{className:"result-meta",children:[i.jsxs("span",{children:["ID: ",N.id]}),N.fields.PPID&&i.jsxs("span",{children:["PPID: ",N.fields.PPID]}),S&&i.jsx("span",{className:"has-history",children:"Has History"})]})]},N.id)})})]}),u&&i.jsxs("div",{className:"history-panel",children:[i.jsxs("div",{className:"history-panel-header",children:[i.jsx("button",{className:"btn btn-secondary btn-small",onClick:()=>{c(null),h([])},children:" Back to list"}),i.jsxs("h3",{children:["History for: ",u.fields["Client Name"]||u.id]})]}),f.length===0?i.jsxs("div",{className:"empty-history",children:[i.jsx("p",{children:"No merge history found for this record."}),i.jsx("p",{className:"subtle",children:"This record has not been involved in any merge operations."})]}):i.jsx("div",{className:"history-timeline",children:f.map((N,S)=>i.jsx(dm,{event:N,isLatest:S===f.length-1,onUnmerge:()=>n&&n(u,N)},N.merge_id||S))})]})]})}function dm({event:e,isLatest:t,onUnmerge:n}){var u;const[r,s]=C.useState(!1),l=e.action==="merge",o=e.action==="unmerge",a=new Date(e.timestamp).toLocaleString();return i.jsxs("div",{className:`history-event ${e.action}`,children:[i.jsxs("div",{className:"event-header",onClick:()=>s(!r),children:[i.jsx("div",{className:"event-icon",children:l?"":o?"":""}),i.jsxs("div",{className:"event-info",children:[i.jsxs("div",{className:"event-title",children:[l&&`Merged ${((u=e.merged_records)==null?void 0:u.length)||0} record(s)`,o&&`Unmerged from ${e.original_merge_id}`]}),i.jsxs("div",{className:"event-meta",children:[i.jsx("span",{children:a}),e.confidence&&i.jsxs("span",{children:["Confidence: ",e.confidence,"%"]}),e.performed_by&&i.jsxs("span",{children:["By: ",e.performed_by]})]})]}),i.jsx("div",{className:"event-expand",children:r?"":""})]}),r&&i.jsxs("div",{className:"event-details",children:[e.match_reasons&&e.match_reasons.length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h5",{children:"Match Reasons"}),i.jsx("div",{className:"reason-list",children:e.match_reasons.map((c,f)=>i.jsx("span",{className:"reason-badge",children:c},f))})]}),e.survivor_field_snapshot&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h5",{children:"Survivor's Original State"}),i.jsxs("div",{className:"merged-record",children:[i.jsxs("div",{className:"merged-record-header",children:[i.jsx("span",{className:"record-id",children:e.survivor_record_id}),i.jsx("span",{className:"record-label",children:"(survivor - preserved for unmerge)"})]}),i.jsxs("details",{className:"field-snapshot",children:[i.jsxs("summary",{children:["Field Snapshot (",Object.keys(e.survivor_field_snapshot).length," fields)"]}),i.jsx("pre",{children:JSON.stringify(e.survivor_field_snapshot,null,2)})]}),e.survivor_linked_records&&Object.keys(e.survivor_linked_records).length>0&&i.jsxs("details",{className:"linked-records",children:[i.jsx("summary",{children:"Linked Records"}),i.jsx("pre",{children:JSON.stringify(e.survivor_linked_records,null,2)})]})]})]}),e.merged_records&&e.merged_records.length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h5",{children:"Merged Records"}),e.merged_records.map((c,f)=>i.jsxs("div",{className:"merged-record",children:[i.jsx("div",{className:"merged-record-header",children:i.jsx("span",{className:"record-id",children:c.original_record_id})}),c.field_snapshot&&i.jsxs("details",{className:"field-snapshot",children:[i.jsxs("summary",{children:["Field Snapshot (",Object.keys(c.field_snapshot).length," fields)"]}),i.jsx("pre",{children:JSON.stringify(c.field_snapshot,null,2)})]}),c.linked_records&&Object.keys(c.linked_records).length>0&&i.jsxs("details",{className:"linked-records",children:[i.jsx("summary",{children:"Linked Records"}),i.jsx("pre",{children:JSON.stringify(c.linked_records,null,2)})]})]},f))]}),e.field_decisions&&Object.keys(e.field_decisions).length>0&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h5",{children:"Field Decisions"}),i.jsx("div",{className:"decision-list",children:Object.entries(e.field_decisions).filter(([c,f])=>f.include!==!1).map(([c,f])=>i.jsxs("div",{className:"decision-item",children:[i.jsx("span",{className:"field-name",children:c}),i.jsx("span",{className:"decision-strategy",children:f.strategy})]},c))})]}),e.notes&&i.jsxs("div",{className:"detail-section",children:[i.jsx("h5",{children:"Notes"}),i.jsx("p",{className:"event-notes",children:e.notes})]}),l&&t&&i.jsx("div",{className:"event-actions",children:i.jsx("button",{className:"btn btn-warning",onClick:c=>{c.stopPropagation(),n&&n()},children:"Unmerge This Operation"})})]})]})}function fm({record:e,mergeEvent:t,schema:n,credentials:r,onComplete:s,onCancel:l,onLog:o}){const[a,u]=C.useState(!1),[c,f]=C.useState(!0),[h,d]=C.useState(""),m=(j,g="info")=>{o&&o(j,g)},v=C.useMemo(()=>!t||!t.merged_records?null:{recordCount:t.merged_records.length,records:t.merged_records.map(j=>({id:j.original_record_id,fieldCount:Object.keys(j.field_snapshot||{}).length,linkedRecordCount:Object.values(j.linked_records||{}).reduce((g,p)=>g+(Array.isArray(p)?p.length:0),0)}))},[t]),k=async()=>{u(!0);try{const j=new Ve(r.apiKey,r.baseId);m(`Building unmerge payload for ${t.merge_id}...`,"info");const g=sm(e,t.merge_id,n);m(`Recreating ${g.recordsToCreate.length} record(s)...`,"info");const p=[];for(const y of g.recordsToCreate){const x=Tn(y.fields.dedupe_history),w={...g.unmergeHistoryEntry,notes:h||g.unmergeHistoryEntry.notes},E=[...x,w],N=await j.createRecord(r.tableName,{...y.fields,dedupe_history:JSON.stringify(E,null,2)});p.push(N),m(`Created record ${N.id}`,"success")}if(m("Updating survivor record history...","info"),await j.updateRecord(r.tableName,e.id,g.survivorUpdates),m("Survivor record updated","success"),c){m("Marking records as confirmed not duplicate...","info");try{const y=JSON.parse(localStorage.getItem("confirmed_not_duplicates")||"[]"),x=[e.id,...p.map(w=>w.id)].sort().join("|");y.includes(x)||(y.push(x),localStorage.setItem("confirmed_not_duplicates",JSON.stringify(y)))}catch{}}m(`Unmerge ${g.unmergeId} completed successfully!`,"success"),s&&s({unmergeId:g.unmergeId,restoredRecords:p,survivorId:e.id})}catch(j){m(`Unmerge failed: ${j.message}`,"error")}finally{u(!1)}};return!e||!t?null:i.jsx("div",{className:"modal-overlay",onClick:l,children:i.jsxs("div",{className:"modal-content unmerge-modal",onClick:j=>j.stopPropagation(),children:[i.jsxs("div",{className:"modal-header",children:[i.jsx("h2",{children:"Confirm Unmerge"}),i.jsx("button",{className:"modal-close",onClick:l,children:""})]}),i.jsxs("div",{className:"modal-body",children:[i.jsx("div",{className:"unmerge-warning",children:i.jsx("strong",{children:" This operation will:"})}),i.jsxs("ul",{className:"unmerge-actions-list",children:[i.jsxs("li",{children:["Recreate ",i.jsx("strong",{children:(v==null?void 0:v.recordCount)||0})," previously merged record(s)"]}),i.jsx("li",{children:"Restore all field values from the time of the original merge"}),t.survivor_field_snapshot&&i.jsx("li",{children:"Restore the survivor record to its pre-merge state"}),i.jsx("li",{children:"Re-link any associated records (cases, events, etc.)"}),i.jsx("li",{children:"Add an unmerge event to the history of all affected records"})]}),i.jsxs("div",{className:"restore-preview",children:[i.jsx("h4",{children:"Records to Restore"}),v==null?void 0:v.records.map((j,g)=>i.jsxs("div",{className:"restore-record",children:[i.jsx("span",{className:"record-id",children:j.id}),i.jsxs("span",{className:"record-stats",children:[j.fieldCount," fields, ",j.linkedRecordCount," linked records"]})]},g))]}),i.jsxs("div",{className:"merge-event-info",children:[i.jsx("h4",{children:"Original Merge"}),i.jsxs("div",{className:"info-grid",children:[i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Merge ID:"}),i.jsx("span",{className:"value",children:t.merge_id})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Date:"}),i.jsx("span",{className:"value",children:new Date(t.timestamp).toLocaleString()})]}),i.jsxs("div",{className:"info-item",children:[i.jsx("span",{className:"label",children:"Confidence:"}),i.jsxs("span",{className:"value",children:[t.confidence||"N/A","%"]})]})]}),t.match_reasons&&t.match_reasons.length>0&&i.jsxs("div",{className:"match-reasons",children:[i.jsx("span",{className:"label",children:"Match Reasons:"}),i.jsx("div",{className:"reason-list",children:t.match_reasons.map((j,g)=>i.jsx("span",{className:"reason-badge",children:j},g))})]})]}),i.jsx("div",{className:"unmerge-options",children:i.jsxs("label",{className:"checkbox-label",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:j=>f(j.target.checked)}),'Mark these records as "confirmed not duplicate" (prevents re-matching)']})}),i.jsxs("div",{className:"unmerge-notes",children:[i.jsx("label",{htmlFor:"unmerge-notes",children:"Notes (optional):"}),i.jsx("textarea",{id:"unmerge-notes",value:h,onChange:j=>d(j.target.value),placeholder:"Why are you unmerging these records?",rows:2})]})]}),i.jsxs("div",{className:"modal-footer",children:[i.jsx("button",{className:"btn btn-secondary",onClick:l,disabled:a,children:"Cancel"}),i.jsx("button",{className:"btn btn-warning",onClick:k,disabled:a,children:a?"Unmerging...":"Confirm Unmerge"})]})]})})}const il={appendFields:["Matter_Flatpack"],appendDelimiter:`
---
`,excludeFields:["Created","Created By","Last Modified","Last Modified By","Record ID"],linkFieldTypes:["multipleRecordLinks"]};function Po(e){const t={editable:[],computed:[],linkFields:[],appendFields:[],textFields:[],numberFields:[],dateFields:[],checkboxFields:[],selectFields:[],allFields:{}};return!e||!e.allFields||Object.entries(e.allFields).forEach(([n,r])=>{if(t.allFields[n]=r,r.isComputed){t.computed.push(n);return}switch(t.editable.push(n),r.type){case"multipleRecordLinks":t.linkFields.push(n);break;case"multilineText":case"richText":case"singleLineText":t.textFields.push(n);break;case"number":case"currency":case"percent":t.numberFields.push(n);break;case"date":case"dateTime":t.dateFields.push(n);break;case"checkbox":t.checkboxFields.push(n);break;case"singleSelect":case"multipleSelects":t.selectFields.push(n);break;default:t.textFields.push(n)}il.appendFields.includes(n)&&t.appendFields.push(n)}),t}function Rr(e){return!!(e==null||typeof e=="string"&&e.trim()===""||Array.isArray(e)&&e.length===0)}function Pd(e,t,n=il.appendDelimiter){const r=String(e||"").trim(),s=String(t||"").trim();return!r&&!s?"":r?!s||r===s||r.includes(s)?r:s.includes(r)?s:`${r}${n}${s}`:s}function hm(e,t={}){const{matchFields:n=[],fuzzyThreshold:r=.8}=t,s=[],l=new Map;return e.forEach((o,a)=>{const u=n.map(f=>{const h=o.fields[f];return Rr(h)?"":String(h).toLowerCase().trim()}).filter(Boolean);if(u.length===0)return;const c=u.join("|");l.has(c)||l.set(c,[]),l.get(c).push({record:o,index:a})}),l.forEach((o,a)=>{if(o.length<2)return;const u=o.map(c=>c.record);u.sort((c,f)=>bs(f)-bs(c)),s.push({id:`dup_${s.length}`,matchKey:a,records:u,survivor:u[0],toMerge:u.slice(1),matchReason:`Matching fields: ${n.join(", ")}`})}),s}function bs(e){let t=0;const n=e.fields||{};return Object.entries(n).forEach(([r,s])=>{Rr(s)||(Array.isArray(s)?t+=s.length*2:typeof s=="string"?t+=Math.min(s.length/100,5):t+=1)}),t}function iu(e,t,n,r=il){const s={},l=Po(n),o=new Set;return Object.keys(e.fields||{}).forEach(a=>o.add(a)),t.forEach(a=>{Object.keys(a.fields||{}).forEach(u=>o.add(u))}),o.forEach(a=>{const u=l.allFields[a];if(!u){s[a]={strategy:"skip",include:!1,reason:"Field not in schema"};return}if(u.isComputed){s[a]={strategy:"computed",include:!1,reason:"Computed field - cannot be modified"};return}if(r.excludeFields.includes(a)){s[a]={strategy:"excluded",include:!1,reason:"Field excluded from merge"};return}const c=e.fields[a],h=[c,...t.map(m=>m.fields[a])].filter(m=>!Rr(m));if(r.appendFields.includes(a)){let m="";h.forEach(v=>{m=Pd(m,v,r.appendDelimiter)}),s[a]={strategy:"append",value:m||null,include:!!m,survivorValue:c,mergedValues:t.map(v=>v.fields[a]),reason:"Append field - values combined"};return}if(u.type==="multipleRecordLinks"){let m=Array.isArray(c)?[...c]:[];t.forEach(v=>{const k=v.fields[a];Array.isArray(k)&&k.forEach(j=>{m.includes(j)||m.push(j)})}),s[a]={strategy:"merge_links",value:m.length>0?m:null,include:m.length>0,survivorValue:c,mergedValues:t.map(v=>v.fields[a]),reason:"Link field - arrays merged"};return}if(h.length===0){s[a]={strategy:"empty",value:null,include:!1,reason:"All values empty"};return}if([...new Set(h.map(m=>JSON.stringify(m)))].length===1){s[a]={strategy:"identical",value:h[0],include:!0,reason:"All values identical"};return}if(!Rr(c)){s[a]={strategy:"keep_survivor",value:c,include:!0,survivorValue:c,mergedValues:t.map(m=>m.fields[a]),reason:"Keeping survivor value",hasConflict:h.length>1,allValues:h};return}s[a]={strategy:"fill_empty",value:h[0],include:!0,survivorValue:null,mergedValues:t.map(m=>m.fields[a]),reason:"Filling empty survivor field"}}),s}function Ll(e,t,n,r=il){const s={},l=Po(n),o=new Set;return Object.keys(e.fields||{}).forEach(a=>o.add(a)),t.forEach(a=>{Object.keys(a.fields||{}).forEach(u=>o.add(u))}),o.forEach(a=>{const u=l.allFields[a];if(!u){s[a]={strategy:"skip",include:!1};return}if(u.isComputed){s[a]={strategy:"computed",include:!1};return}if(r.excludeFields.includes(a)){s[a]={strategy:"excluded",include:!1};return}const c=e.fields[a],h=[c,...t.map(d=>d.fields[a])].filter(d=>!Rr(d));if(r.appendFields.includes(a)){let d="";h.forEach(m=>{d=Pd(d,m,r.appendDelimiter)}),s[a]={strategy:"append",value:d||null,include:!!d,survivorValue:c,mergedValues:t.map(m=>m.fields[a]),forceMerged:!0};return}if(u.type==="multipleRecordLinks"){let d=Array.isArray(c)?[...c]:[];t.forEach(m=>{const v=m.fields[a];Array.isArray(v)&&v.forEach(k=>{d.includes(k)||d.push(k)})}),s[a]={strategy:"merge_links",value:d.length>0?d:null,include:d.length>0,survivorValue:c,forceMerged:!0};return}if(["multilineText","richText","singleLineText"].includes(u.type)){if(h.length===0){s[a]={strategy:"empty",value:null,include:!1};return}const d=[...new Set(h.map(m=>String(m).trim()))];if(d.length===1)s[a]={strategy:"identical",value:d[0],include:!0};else{const m=d.reduce((v,k)=>v.length>=k.length?v:k,"");s[a]={strategy:"keep_longest",value:m,include:!0,survivorValue:c,allValues:d,forceMerged:!0}}return}if(h.length===0){s[a]={strategy:"empty",value:null,include:!1};return}s[a]={strategy:"keep_first",value:h[0],include:!0,forceMerged:h.length>1}}),s}function ou(e,t,n,r,s={}){const l=new Date().toISOString(),o="cm_mrg_"+Math.random().toString(36).substr(2,9),a={};Object.entries(n).forEach(([c,f])=>{if(!f.include||f.strategy==="computed"||f.strategy==="excluded"||f.strategy==="skip")return;const h=e.fields[c];JSON.stringify(h)!==JSON.stringify(f.value)&&(a[c]=f.value)});const u={merge_id:o,timestamp:l,action:"case_master_merge",forceMode:s.forceMode||!1,survivor_record_id:e.id,survivor_snapshot:{...e.fields},merged_records:t.map(c=>({original_record_id:c.id,field_snapshot:{...c.fields}})),field_resolutions:n,performed_by:s.performedBy||"user",notes:s.notes||""};return{mergeId:o,historyEntry:u,updateFields:a,recordsToDelete:t.map(c=>c.id),survivorId:e.id}}function pm(e){const t={fieldsToUpdate:[],fieldsAppended:[],linksAdded:0,fieldsSkipped:[],forceMergedFields:[],conflicts:[]};return Object.entries(e).forEach(([n,r])=>{if(!r.include){t.fieldsSkipped.push(n);return}if(r.strategy==="append")t.fieldsAppended.push(n),t.fieldsToUpdate.push(`${n} (appended)`);else if(r.strategy==="merge_links"){const s=Array.isArray(r.survivorValue)?r.survivorValue.length:0,l=Array.isArray(r.value)?r.value.length:0;l>s&&(t.linksAdded+=l-s,t.fieldsToUpdate.push(`${n} (+${l-s} links)`))}else r.forceMerged?(t.forceMergedFields.push(n),t.fieldsToUpdate.push(`${n} (force merged)`)):r.hasConflict?t.conflicts.push(n):r.strategy!=="identical"&&r.strategy!=="empty"&&t.fieldsToUpdate.push(n)}),t}function mm(e,t,n,r="Created"){if(!t&&!n)return e;const s=t?new Date(t):null,l=n?new Date(n):null;return l&&l.setHours(23,59,59,999),e.filter(o=>{const a=o.fields[r];if(!a)return!1;const u=new Date(a);return!(s&&u<s||l&&u>l)})}const Ol=100,zl="tblgynOzESGvAXAsK";function gm({credentials:e,onLog:t}){const[n,r]=C.useState(!1),[s,l]=C.useState(null),[o,a]=C.useState([]),[u,c]=C.useState([]),[f,h]=C.useState(null),[d,m]=C.useState(!1),[v,k]=C.useState(""),[j,g]=C.useState(""),[p,y]=C.useState([]),[x,w]=C.useState("final"),[E,N]=C.useState(!1),[S,F]=C.useState(!1),[P,H]=C.useState({}),[b,q]=C.useState(Ol),[T,ne]=C.useState(null),[Y,ve]=C.useState(zl),[M,$]=C.useState([]),D=(R,O="info")=>{t&&t(R,O)};C.useEffect(()=>{if(!e)return;(async()=>{try{const O=new Ve(e.apiKey,e.baseId),J=await O.request(O.metaUrl);$(J.tables.map(ke=>({id:ke.id,name:ke.name})));const de=J.tables.find(ke=>ke.id===zl);de&&(ve(de.id),D(`Found Case Master View table: ${de.name}`,"success"))}catch(O){D(`Failed to fetch tables: ${O.message}`,"error")}})()},[e]),C.useEffect(()=>{if(!e||!Y)return;(async()=>{try{const J=await new Ve(e.apiKey,e.baseId).getTableSchema(Y);l(J);const de=Po(J);ne(de);const ke=de.textFields.slice(0,3);y(ke),D(`Loaded schema for ${Y}: ${de.editable.length} editable fields`,"success")}catch(O){D(`Failed to fetch schema: ${O.message}`,"error")}})()},[e,Y]);const G=async()=>{if(!e||!s){D("Please wait for schema to load","warning");return}r(!0),c([]),h(null),q(Ol);try{const R=new Ve(e.apiKey,e.baseId);D(`Fetching records from ${Y}...`,"info");const O=await R.getAllRecords(Y,{onProgress:ke=>{D(`Fetched ${ke.total} records...`,"info")}});D(`Fetched ${O.length} total records`,"success");let J=O;if((v||j)&&(J=mm(O,v,j),D(`Filtered to ${J.length} records by date range`,"info")),a(J),p.length===0){D("Please select at least one field for matching","warning"),r(!1);return}D("Analyzing for duplicates...","info");const de=hm(J,{matchFields:p});c(de),D(`Found ${de.length} duplicate groups`,"success")}catch(R){D(`Scan failed: ${R.message}`,"error")}finally{r(!1)}},L=C.useCallback(R=>{if(h(R),F(!1),R&&s){const O=E?Ll(R.survivor,R.toMerge,s):iu(R.survivor,R.toMerge,s);H(O)}},[s,E]);C.useEffect(()=>{if(f&&s){const R=E?Ll(f.survivor,f.toMerge,s):iu(f.survivor,f.toMerge,s);H(R)}},[E,f,s]);const U=async()=>{if(!(!f||!s||!e)){m(!0);try{const R=new Ve(e.apiKey,e.baseId),O=ou(f.survivor,f.toMerge,P,s,{forceMode:E,performedBy:"user"});D(`Executing merge ${O.mergeId}...`,"info"),Object.keys(O.updateFields).length>0&&(await R.updateRecord(Y,O.survivorId,O.updateFields),D(`Updated survivor record with ${Object.keys(O.updateFields).length} fields`,"success")),O.recordsToDelete.length>0&&(await R.deleteRecords(Y,O.recordsToDelete,J=>{D(`Deleted ${J.deleted}/${J.total} records...`,"info")}),D(`Deleted ${O.recordsToDelete.length} duplicate records`,"success")),D(`Merge ${O.mergeId} completed successfully!`,"success"),c(J=>J.filter(de=>de.id!==f.id)),h(null),H({})}catch(R){D(`Merge failed: ${R.message}`,"error")}finally{m(!1)}}},V=async()=>{if(u.length===0||!s||!e)return;const R=`This will force merge ${u.length} duplicate groups. Continue?`;if(!confirm(R))return;m(!0);let O=0,J=0;try{const de=new Ve(e.apiKey,e.baseId);for(const ke of u)try{const Me=Ll(ke.survivor,ke.toMerge,s),A=ou(ke.survivor,ke.toMerge,Me,s,{forceMode:!0,performedBy:"user"});Object.keys(A.updateFields).length>0&&await de.updateRecord(Y,A.survivorId,A.updateFields),A.recordsToDelete.length>0&&await de.deleteRecords(Y,A.recordsToDelete),O++,D(`Merged group ${O}/${u.length}`,"info")}catch(Me){J++,D(`Failed to merge group: ${Me.message}`,"error")}D(`Bulk merge complete: ${O} successful, ${J} failed`,J>0?"warning":"success"),c([]),h(null)}catch(de){D(`Bulk merge failed: ${de.message}`,"error")}finally{m(!1)}},ee=R=>{y(O=>O.includes(R)?O.filter(J=>J!==R):[...O,R])},W=C.useMemo(()=>!P||Object.keys(P).length===0?null:pm(P),[P]),se=C.useMemo(()=>u.slice(0,b),[u,b]),Pe=b<u.length;return i.jsxs("div",{className:"case-master-dedup",children:[i.jsx("div",{className:"dedup-header",children:i.jsxs("div",{children:[i.jsx("h2",{children:"Case Master Deduplication"}),i.jsx("p",{className:"subtitle",children:"Find and merge duplicate records with intelligent field handling"})]})}),i.jsxs("div",{className:"dedup-config",children:[i.jsxs("div",{className:"config-section",children:[i.jsx("h3",{children:"Table Selection"}),i.jsx("select",{value:Y,onChange:R=>ve(R.target.value),disabled:n,children:M.map(R=>i.jsxs("option",{value:R.id,children:[R.name," ",R.id===zl?"(default)":""]},R.id))})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h3",{children:"Date Filter (Created)"}),i.jsxs("div",{className:"date-range",children:[i.jsx("input",{type:"date",value:v,onChange:R=>k(R.target.value),placeholder:"Start Date"}),i.jsx("span",{children:"to"}),i.jsx("input",{type:"date",value:j,onChange:R=>g(R.target.value),placeholder:"End Date"})]})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h3",{children:"Match Fields"}),i.jsx("p",{className:"config-hint",children:"Select fields to use for finding duplicates"}),i.jsx("div",{className:"field-checkboxes",children:T==null?void 0:T.textFields.map(R=>i.jsxs("label",{className:"field-checkbox",children:[i.jsx("input",{type:"checkbox",checked:p.includes(R),onChange:()=>ee(R)}),i.jsx("span",{children:R})]},R))})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h3",{children:"Output Type"}),i.jsx("p",{className:"config-hint",children:"What kind of result do you want?"}),i.jsxs("div",{className:"output-type-selector",children:[i.jsxs("div",{className:`output-type-option ${x==="final"?"selected":""}`,onClick:()=>w("final"),children:[i.jsx("div",{className:"option-icon",children:""}),i.jsxs("div",{className:"option-content",children:[i.jsx("div",{className:"option-title",children:"Create final result"}),i.jsx("div",{className:"option-description",children:"The merged data is ready to use."})]}),i.jsx("div",{className:"option-badge",children:"FINAL OUTPUT"})]}),i.jsxs("div",{className:`output-type-option ${x==="staging"?"selected":""}`,onClick:()=>w("staging"),children:[i.jsx("div",{className:"option-icon",children:""}),i.jsxs("div",{className:"option-content",children:[i.jsx("div",{className:"option-title",children:"Create staging table"}),i.jsx("div",{className:"option-description",children:"Review and clean up before finalizing."})]}),i.jsx("div",{className:"option-badge",children:"REVIEW FIRST"})]}),i.jsxs("div",{className:`output-type-option ${x==="compare"?"selected":""}`,onClick:()=>w("compare"),children:[i.jsx("div",{className:"option-icon",children:""}),i.jsxs("div",{className:"option-content",children:[i.jsx("div",{className:"option-title",children:"Keep both versions"}),i.jsx("div",{className:"option-description",children:"Preserve all source data for comparison."})]}),i.jsx("div",{className:"option-badge",children:"COMPARE MODE"})]})]})]}),i.jsxs("div",{className:"config-section",children:[i.jsx("h3",{children:"Merge Mode"}),i.jsxs("label",{className:"force-mode-toggle",children:[i.jsx("input",{type:"checkbox",checked:E,onChange:R=>N(R.target.checked)}),i.jsx("span",{children:"Force Merge Mode"})]}),i.jsx("p",{className:"config-hint",children:E?"Force merge combines all editable data aggressively (appends Matter_Flatpack)":"Standard merge preserves survivor values where possible"})]}),i.jsx("div",{className:"config-actions",children:i.jsx("button",{className:"btn btn-primary",onClick:G,disabled:n||p.length===0,children:n?"Scanning...":"Scan for Duplicates"})})]}),T&&i.jsxs("div",{className:"field-summary",children:[i.jsx("h3",{children:"Detected Fields"}),i.jsxs("div",{className:"field-stats",children:[i.jsxs("div",{className:"field-stat",children:[i.jsx("span",{className:"stat-value",children:T.editable.length}),i.jsx("span",{className:"stat-label",children:"Editable"})]}),i.jsxs("div",{className:"field-stat",children:[i.jsx("span",{className:"stat-value",children:T.linkFields.length}),i.jsx("span",{className:"stat-label",children:"Link Fields"})]}),i.jsxs("div",{className:"field-stat",children:[i.jsx("span",{className:"stat-value",children:T.textFields.length}),i.jsx("span",{className:"stat-label",children:"Text Fields"})]}),i.jsxs("div",{className:"field-stat",children:[i.jsx("span",{className:"stat-value",children:T.computed.length}),i.jsx("span",{className:"stat-label",children:"Computed"})]}),i.jsxs("div",{className:"field-stat append-field",children:[i.jsx("span",{className:"stat-value",children:T.appendFields.length}),i.jsx("span",{className:"stat-label",children:"Append Fields"})]})]}),T.appendFields.length>0&&i.jsxs("p",{className:"append-notice",children:["Append fields (will be combined, not overwritten): ",T.appendFields.join(", ")]})]}),u.length>0&&!f&&i.jsxs("div",{className:"duplicate-results",children:[i.jsxs("div",{className:"results-header",children:[i.jsxs("h3",{children:["Duplicate Groups (",u.length,")"]}),i.jsx("div",{className:"results-actions",children:E&&u.length>0&&i.jsx("button",{className:"btn btn-danger",onClick:V,disabled:d,children:d?"Merging...":`Force Merge All (${u.length})`})})]}),i.jsx("div",{className:"duplicate-list",children:se.map(R=>i.jsxs("div",{className:"duplicate-group",onClick:()=>L(R),children:[i.jsxs("div",{className:"group-info",children:[i.jsxs("span",{className:"group-count",children:[R.records.length," records"]}),i.jsx("span",{className:"group-match",children:R.matchReason})]}),i.jsxs("div",{className:"group-records",children:[i.jsxs("div",{className:"survivor-record",children:[i.jsx("span",{className:"record-label",children:"Survivor:"}),i.jsx("span",{className:"record-id",children:R.survivor.id}),i.jsxs("span",{className:"record-score",children:["Score: ",bs(R.survivor).toFixed(0)]})]}),i.jsx("div",{className:"merge-records",children:R.toMerge.map(O=>i.jsxs("div",{className:"merge-record",children:[i.jsx("span",{className:"record-label",children:"Merge:"}),i.jsx("span",{className:"record-id",children:O.id}),i.jsxs("span",{className:"record-score",children:["Score: ",bs(O).toFixed(0)]})]},O.id))})]}),i.jsx("button",{className:"btn btn-small btn-primary",children:"Review "})]},R.id))}),Pe&&i.jsx("div",{className:"load-more",children:i.jsxs("button",{className:"btn btn-secondary",onClick:()=>q(R=>R+Ol),children:["Load More (",u.length-b," remaining)"]})})]}),f&&i.jsxs("div",{className:"merge-review",children:[i.jsxs("div",{className:"review-header",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>h(null),children:" Back to List"}),i.jsx("h3",{children:"Review Merge"}),i.jsx("div",{className:"mode-indicator",children:E?i.jsx("span",{className:"mode-badge force",children:"Force Merge"}):i.jsx("span",{className:"mode-badge standard",children:"Standard Merge"})})]}),W&&i.jsxs("div",{className:"merge-summary",children:[i.jsx("h4",{children:"Merge Summary"}),i.jsxs("div",{className:"summary-stats",children:[i.jsxs("div",{className:"summary-stat",children:[i.jsx("span",{className:"stat-value",children:W.fieldsToUpdate.length}),i.jsx("span",{className:"stat-label",children:"Fields to Update"})]}),i.jsxs("div",{className:"summary-stat",children:[i.jsx("span",{className:"stat-value",children:W.fieldsAppended.length}),i.jsx("span",{className:"stat-label",children:"Fields Appended"})]}),i.jsxs("div",{className:"summary-stat",children:[i.jsx("span",{className:"stat-value",children:W.linksAdded}),i.jsx("span",{className:"stat-label",children:"Links Added"})]}),i.jsxs("div",{className:"summary-stat",children:[i.jsx("span",{className:"stat-value",children:f.toMerge.length}),i.jsx("span",{className:"stat-label",children:"Records to Delete"})]})]}),W.fieldsAppended.length>0&&i.jsxs("p",{className:"append-info",children:["Appending to: ",W.fieldsAppended.join(", ")]})]}),i.jsxs("div",{className:"field-resolutions",children:[i.jsxs("div",{className:"resolutions-header",children:[i.jsx("h4",{children:"Field Resolutions"}),i.jsx("button",{className:"btn btn-small",onClick:()=>F(!S),children:S?"Hide Details":"Show Details"})]}),S&&i.jsx("div",{className:"resolution-list",children:Object.entries(P).filter(([,R])=>R.include).map(([R,O])=>i.jsxs("div",{className:`resolution-item ${O.strategy}`,children:[i.jsxs("div",{className:"resolution-header",children:[i.jsx("span",{className:"field-name",children:R}),i.jsx("span",{className:`strategy-badge ${O.strategy}`,children:O.strategy})]}),i.jsx("div",{className:"resolution-value",children:O.strategy==="append"?i.jsxs("div",{className:"append-preview",children:[i.jsx("span",{className:"label",children:"Will contain:"}),i.jsxs("pre",{children:[String(O.value||"").substring(0,200),String(O.value||"").length>200&&"..."]})]}):O.strategy==="merge_links"?i.jsxs("span",{children:[Array.isArray(O.value)?O.value.length:0," linked records"]}):i.jsx("span",{children:JSON.stringify(O.value).substring(0,100)})})]},R))})]}),i.jsxs("div",{className:"records-preview",children:[i.jsx("h4",{children:"Records"}),i.jsxs("div",{className:"record-preview survivor",children:[i.jsx("span",{className:"preview-label",children:"Survivor (will be kept):"}),i.jsx("span",{className:"record-id",children:f.survivor.id})]}),f.toMerge.map(R=>i.jsxs("div",{className:"record-preview to-merge",children:[i.jsx("span",{className:"preview-label",children:"Will be merged & deleted:"}),i.jsx("span",{className:"record-id",children:R.id})]},R.id))]}),i.jsxs("div",{className:"review-actions",children:[i.jsx("button",{className:"btn btn-secondary",onClick:()=>h(null),disabled:d,children:"Cancel"}),i.jsx("button",{className:"btn btn-success",onClick:U,disabled:d,children:d?"Merging...":"Execute Merge"})]})]}),!n&&o.length>0&&u.length===0&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:""}),i.jsx("h3",{children:"No Duplicates Found"}),i.jsx("p",{children:"No duplicate records found matching the selected criteria."})]}),!n&&o.length===0&&!f&&i.jsxs("div",{className:"empty-state",children:[i.jsx("div",{className:"empty-icon",children:""}),i.jsx("h3",{children:"Ready to Scan"}),i.jsx("p",{children:'Configure your matching fields and click "Scan for Duplicates" to begin.'})]})]})}function ym(){const[e,t]=C.useState("setup"),[n,r]=C.useState(null),[s,l]=C.useState(null),[o,a]=C.useState(null),[u,c]=C.useState(null),[f,h]=C.useState(null),[d,m]=C.useState([]),v=C.useRef(null),k=C.useRef(null),j=C.useCallback((T,ne="info")=>{const Y=new Date().toLocaleTimeString();m(ve=>[...ve,{message:T,type:ne,timestamp:Y}])},[]);C.useEffect(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[d]);const g=C.useCallback(T=>{k.current=T},[]),p=C.useCallback(()=>{k.current&&(j("Starting background resync with Airtable...","info"),k.current())},[j]),y=C.useCallback(T=>{r({apiKey:T.apiKey,baseId:T.baseId,tableName:T.tableName}),l(T.schema),j("Setup complete, proceeding to configuration...","success"),t("config")},[j]),x=C.useCallback(T=>{a(T),j("Configuration saved, ready to scan","success"),t("scan")},[j]),w=C.useCallback(T=>{c(T),t("review")},[]),E=C.useCallback(T=>{j(`Merge completed: ${T.mergeId}`,"success"),c(null),t("scan"),p()},[j,p]),N=C.useCallback(()=>{c(null),t("scan")},[]),S=C.useCallback(()=>{if(u){try{const T=JSON.parse(localStorage.getItem("confirmed_not_duplicates")||"[]"),ne=[u.survivor.record.id,u.merged.record.id].sort().join("|");T.includes(ne)||(T.push(ne),localStorage.setItem("confirmed_not_duplicates",JSON.stringify(T)),j("Marked as not duplicate","success"))}catch{j("Failed to save not-duplicate marker","error")}c(null),t("scan")}},[u,j]),F=C.useCallback((T,ne)=>{h({record:T,mergeEvent:ne})},[]),P=C.useCallback(T=>{j(`Unmerge completed: ${T.unmergeId}`,"success"),h(null),p()},[j,p]),H=C.useCallback(()=>{h(null)},[]),b=()=>e==="setup"?null:i.jsxs("nav",{className:"app-nav",children:[i.jsx("button",{className:`nav-button ${e==="scan"?"active":""}`,onClick:()=>t("scan"),children:"Scan"}),i.jsx("button",{className:`nav-button ${e==="history"?"active":""}`,onClick:()=>t("history"),children:"History"}),i.jsx("button",{className:`nav-button ${e==="caseMasterDedup"?"active":""}`,onClick:()=>t("caseMasterDedup"),children:"Case Master"}),i.jsx("button",{className:`nav-button ${e==="config"?"active":""}`,onClick:()=>t("config"),children:"Config"}),i.jsx("button",{className:"nav-button",onClick:()=>{r(null),l(null),t("setup")},children:"Disconnect"})]}),q=()=>{switch(e){case"setup":return i.jsx(hp,{onComplete:y,onLog:j});case"config":return i.jsx(im,{schema:s,initialConfig:o,onComplete:x,onLog:j});case"scan":return i.jsx(am,{credentials:n,schema:s,fieldConfig:o,onSelectCandidate:w,onResyncReady:g,onLog:j});case"review":return i.jsx(um,{candidate:u,schema:s,credentials:n,fieldConfig:o,onComplete:E,onSkip:N,onMarkNotDuplicate:S,onLog:j});case"history":return i.jsx(cm,{credentials:n,schema:s,onUnmerge:F,onLog:j});case"caseMasterDedup":return i.jsx(gm,{credentials:n,onLog:j});default:return i.jsxs("div",{children:["Unknown view: ",e]})}};return i.jsxs("div",{className:"app",children:[i.jsxs("header",{className:"app-header",children:[i.jsx("h1",{children:"Airtable Dedupe"}),i.jsx("p",{className:"subtitle",children:"Client Deduplication Tool"}),b()]}),i.jsx("main",{className:"app-main",children:q()}),i.jsxs("aside",{className:"activity-log",children:[i.jsxs("div",{className:"log-header",children:[i.jsx("h3",{children:"Activity Log"}),i.jsx("button",{className:"btn-clear",onClick:()=>m([]),children:"Clear"})]}),i.jsx("div",{className:"log-container",ref:v,children:d.length===0?i.jsx("div",{className:"log-entry info",children:"Ready"}):d.map((T,ne)=>i.jsxs("div",{className:`log-entry ${T.type}`,children:[i.jsxs("span",{className:"log-time",children:["[",T.timestamp,"]"]}),i.jsx("span",{className:"log-message",children:T.message})]},ne))})]}),f&&i.jsx(fm,{record:f.record,mergeEvent:f.mergeEvent,schema:s,credentials:n,onComplete:P,onCancel:H,onLog:j})]})}$l.createRoot(document.getElementById("root")).render(i.jsx(Jd.StrictMode,{children:i.jsx(ym,{})}));
